!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="dist/",e(0)}([function(t,e,i){"use strict";function n(){document.addEventListener("keydown",function(t){t.code!=o.SPACE_KEY&&t.key!=o.SPACE_KEY||t.preventDefault()})}var r=i(1),o=i(22);i(33),n(),(0,o.initGame)(),o.mainCharacterJump.subscribe(o.makeJumpMainCharacter),r.pointCounterUpdates.subscribe(o.increasePointCounter),o.gameLoop.subscribe(o.moveMainCharacter),o.gameLoop.subscribe(o.moveObstacles),o.gameLoop.subscribe(o.checkGameOver),o.gameLoop.subscribe(o.render),r.obstacleRespawned.subscribe(o.increaseLevel),r.notifyGameOver.subscribe(o.gameOver),o.gameReset.subscribe(o.initGame)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.obstacleRespawned=e.notifyGameOver=e.pointCounterUpdates=e.input=e.loop=void 0;var n=i(2),r=i(5),o=20,s=n.Observable.interval(o,n.Scheduler.requestAnimationFrame).map(function(){return{time:Date.now(),deltaTime:null}}).scan(function(t,e){return{time:e.time,deltaTime:(e.time-t.time)/1e3}}),u=n.Observable.merge(n.Observable.fromEvent(document,"keydown",function(t){return t}),n.Observable.fromEvent(document,"click",function(t){return t}),n.Observable.fromEvent(document,"keyup",function(t){return!1})).distinctUntilChanged(),c=n.Observable.interval(1e3).timeInterval(),a=new r.Subject,l=new r.Subject;e.loop=s,e.input=u,e.pointCounterUpdates=c,e.notifyGameOver=a,e.obstacleRespawned=l},function(t,e,i){var n,r;(function(i,o,s){/**
	  @license
	                                 Apache License
	                         Version 2.0, January 2004
	                      http://www.apache.org/licenses/
	
	 TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION
	
	 1. Definitions.
	
	    "License" shall mean the terms and conditions for use, reproduction,
	    and distribution as defined by Sections 1 through 9 of this document.
	
	    "Licensor" shall mean the copyright owner or entity authorized by
	    the copyright owner that is granting the License.
	
	    "Legal Entity" shall mean the union of the acting entity and all
	    other entities that control, are controlled by, or are under common
	    control with that entity. For the purposes of this definition,
	    "control" means (i) the power, direct or indirect, to cause the
	    direction or management of such entity, whether by contract or
	    otherwise, or (ii) ownership of fifty percent (50%) or more of the
	    outstanding shares, or (iii) beneficial ownership of such entity.
	
	    "You" (or "Your") shall mean an individual or Legal Entity
	    exercising permissions granted by this License.
	
	    "Source" form shall mean the preferred form for making modifications,
	    including but not limited to software source code, documentation
	    source, and configuration files.
	
	    "Object" form shall mean any form resulting from mechanical
	    transformation or translation of a Source form, including but
	    not limited to compiled object code, generated documentation,
	    and conversions to other media types.
	
	    "Work" shall mean the work of authorship, whether in Source or
	    Object form, made available under the License, as indicated by a
	    copyright notice that is included in or attached to the work
	    (an example is provided in the Appendix below).
	
	    "Derivative Works" shall mean any work, whether in Source or Object
	    form, that is based on (or derived from) the Work and for which the
	    editorial revisions, annotations, elaborations, or other modifications
	    represent, as a whole, an original work of authorship. For the purposes
	    of this License, Derivative Works shall not include works that remain
	    separable from, or merely link (or bind by name) to the interfaces of,
	    the Work and Derivative Works thereof.
	
	    "Contribution" shall mean any work of authorship, including
	    the original version of the Work and any modifications or additions
	    to that Work or Derivative Works thereof, that is intentionally
	    submitted to Licensor for inclusion in the Work by the copyright owner
	    or by an individual or Legal Entity authorized to submit on behalf of
	    the copyright owner. For the purposes of this definition, "submitted"
	    means any form of electronic, verbal, or written communication sent
	    to the Licensor or its representatives, including but not limited to
	    communication on electronic mailing lists, source code control systems,
	    and issue tracking systems that are managed by, or on behalf of, the
	    Licensor for the purpose of discussing and improving the Work, but
	    excluding communication that is conspicuously marked or otherwise
	    designated in writing by the copyright owner as "Not a Contribution."
	
	    "Contributor" shall mean Licensor and any individual or Legal Entity
	    on behalf of whom a Contribution has been received by Licensor and
	    subsequently incorporated within the Work.
	
	 2. Grant of Copyright License. Subject to the terms and conditions of
	    this License, each Contributor hereby grants to You a perpetual,
	    worldwide, non-exclusive, no-charge, royalty-free, irrevocable
	    copyright license to reproduce, prepare Derivative Works of,
	    publicly display, publicly perform, sublicense, and distribute the
	    Work and such Derivative Works in Source or Object form.
	
	 3. Grant of Patent License. Subject to the terms and conditions of
	    this License, each Contributor hereby grants to You a perpetual,
	    worldwide, non-exclusive, no-charge, royalty-free, irrevocable
	    (except as stated in this section) patent license to make, have made,
	    use, offer to sell, sell, import, and otherwise transfer the Work,
	    where such license applies only to those patent claims licensable
	    by such Contributor that are necessarily infringed by their
	    Contribution(s) alone or by combination of their Contribution(s)
	    with the Work to which such Contribution(s) was submitted. If You
	    institute patent litigation against any entity (including a
	    cross-claim or counterclaim in a lawsuit) alleging that the Work
	    or a Contribution incorporated within the Work constitutes direct
	    or contributory patent infringement, then any patent licenses
	    granted to You under this License for that Work shall terminate
	    as of the date such litigation is filed.
	
	 4. Redistribution. You may reproduce and distribute copies of the
	    Work or Derivative Works thereof in any medium, with or without
	    modifications, and in Source or Object form, provided that You
	    meet the following conditions:
	
	    (a) You must give any other recipients of the Work or
	        Derivative Works a copy of this License; and
	
	    (b) You must cause any modified files to carry prominent notices
	        stating that You changed the files; and
	
	    (c) You must retain, in the Source form of any Derivative Works
	        that You distribute, all copyright, patent, trademark, and
	        attribution notices from the Source form of the Work,
	        excluding those notices that do not pertain to any part of
	        the Derivative Works; and
	
	    (d) If the Work includes a "NOTICE" text file as part of its
	        distribution, then any Derivative Works that You distribute must
	        include a readable copy of the attribution notices contained
	        within such NOTICE file, excluding those notices that do not
	        pertain to any part of the Derivative Works, in at least one
	        of the following places: within a NOTICE text file distributed
	        as part of the Derivative Works; within the Source form or
	        documentation, if provided along with the Derivative Works; or,
	        within a display generated by the Derivative Works, if and
	        wherever such third-party notices normally appear. The contents
	        of the NOTICE file are for informational purposes only and
	        do not modify the License. You may add Your own attribution
	        notices within Derivative Works that You distribute, alongside
	        or as an addendum to the NOTICE text from the Work, provided
	        that such additional attribution notices cannot be construed
	        as modifying the License.
	
	    You may add Your own copyright statement to Your modifications and
	    may provide additional or different license terms and conditions
	    for use, reproduction, or distribution of Your modifications, or
	    for any such Derivative Works as a whole, provided Your use,
	    reproduction, and distribution of the Work otherwise complies with
	    the conditions stated in this License.
	
	 5. Submission of Contributions. Unless You explicitly state otherwise,
	    any Contribution intentionally submitted for inclusion in the Work
	    by You to the Licensor shall be under the terms and conditions of
	    this License, without any additional terms or conditions.
	    Notwithstanding the above, nothing herein shall supersede or modify
	    the terms of any separate license agreement you may have executed
	    with Licensor regarding such Contributions.
	
	 6. Trademarks. This License does not grant permission to use the trade
	    names, trademarks, service marks, or product names of the Licensor,
	    except as required for reasonable and customary use in describing the
	    origin of the Work and reproducing the content of the NOTICE file.
	
	 7. Disclaimer of Warranty. Unless required by applicable law or
	    agreed to in writing, Licensor provides the Work (and each
	    Contributor provides its Contributions) on an "AS IS" BASIS,
	    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
	    implied, including, without limitation, any warranties or conditions
	    of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
	    PARTICULAR PURPOSE. You are solely responsible for determining the
	    appropriateness of using or redistributing the Work and assume any
	    risks associated with Your exercise of permissions under this License.
	
	 8. Limitation of Liability. In no event and under no legal theory,
	    whether in tort (including negligence), contract, or otherwise,
	    unless required by applicable law (such as deliberate and grossly
	    negligent acts) or agreed to in writing, shall any Contributor be
	    liable to You for damages, including any direct, indirect, special,
	    incidental, or consequential damages of any character arising as a
	    result of this License or out of the use or inability to use the
	    Work (including but not limited to damages for loss of goodwill,
	    work stoppage, computer failure or malfunction, or any and all
	    other commercial damages or losses), even if such Contributor
	    has been advised of the possibility of such damages.
	
	 9. Accepting Warranty or Additional Liability. While redistributing
	    the Work or Derivative Works thereof, You may choose to offer,
	    and charge a fee for, acceptance of support, warranty, indemnity,
	    or other liability obligations and/or rights consistent with this
	    License. However, in accepting such obligations, You may act only
	    on Your own behalf and on Your sole responsibility, not on behalf
	    of any other Contributor, and only if You agree to indemnify,
	    defend, and hold each Contributor harmless for any liability
	    incurred by, or claims asserted against, such Contributor by reason
	    of your accepting any such warranty or additional liability.
	
	 END OF TERMS AND CONDITIONS
	
	 APPENDIX: How to apply the Apache License to your work.
	
	    To apply the Apache License to your work, attach the following
	    boilerplate notice, with the fields enclosed by brackets "[]"
	    replaced with your own identifying information. (Don't include
	    the brackets!)  The text should be enclosed in the appropriate
	    comment syntax for the file format. We also recommend that a
	    file or class name and description of purpose be included on the
	    same "printed page" as the copyright notice for easier
	    identification within third-party archives.
	
	 Copyright 2015-2016 Netflix, Inc., Microsoft Corp. and contributors
	
	 Licensed under the Apache License, Version 2.0 (the "License");
	 you may not use this file except in compliance with the License.
	 You may obtain a copy of the License at
	
	     http://www.apache.org/licenses/LICENSE-2.0
	
	 Unless required by applicable law or agreed to in writing, software
	 distributed under the License is distributed on an "AS IS" BASIS,
	 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 See the License for the specific language governing permissions and
	 limitations under the License.
	
	 **/
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0
	
	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.
	
	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */
var u,c,a,l,h,p;!function(o){function s(t,e){return function(i,n){return t[i]=e?e(i,n):n}}var u="object"==typeof i?i:"object"==typeof self?self:"object"==typeof this?this:{};"object"==typeof System&&"function"==typeof System.register?System.register("tslib",[],function(t){return o(s(u,t)),{setters:[],execute:function(){}}}):(n=[e],r=function(t){o(s(u,s(t)))}.apply(e,n),!(void 0!==r&&(t.exports=r)))}(function(t){u=function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},a=function(t,e,i,n){var r,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(s=(o<3?r(s):o>3?r(e,i,s):r(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},l=function(t,e){return function(i,n){e(i,n,t)}},h=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(t,e,i,n){return new(i||(i=Promise))(function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function u(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(s,u)}c((n=n.apply(t,e)).next())})},t("__extends",u),t("__assign",c),t("__decorate",a),t("__param",l),t("__metadata",h),t("__awaiter",p)}),function(t,i){i(e)}(this,function(t){"use strict";function e(t){return"function"==typeof t}function n(t){return null!=t&&"object"==typeof t}function r(){try{return ii.apply(this,arguments)}catch(t){return ri.e=t,ri}}function o(t){return ii=t,r}function s(t,e,i){if(t){if(t instanceof li)return t;if(t[ai])return t[ai]()}return t||e||i?new li(t,e,i):new li(ui)}function c(t){var e,i=t.Symbol;return"function"==typeof i?i.observable?e=i.observable:(e=i("observable"),i.observable=e):e="@@observable",e}function a(t){var e=t.value,i=t.subject;i.next(e),i.complete()}function l(t){var e=t.err,i=t.subject;i.error(e)}function h(t){var e=this,i=t.source,n=t.subscriber,r=i,s=r.callbackFunc,u=r.args,c=r.scheduler,a=i.subject;if(!a){a=i.subject=new wi;var l=function t(){for(var i=[],n=0;n<arguments.length;n++)i[n-0]=arguments[n];var r=t.source,s=r.selector,u=r.subject,a=i.shift();if(a)u.error(a);else if(s){var l=o(s).apply(this,i);l===ri?e.add(c.schedule(f,0,{err:ri.e,subject:u})):e.add(c.schedule(p,0,{value:l,subject:u}))}else{var h=1===i.length?i[0]:i;e.add(c.schedule(p,0,{value:h,subject:u}))}};l.source=i;var h=o(s).apply(this,u.concat(l));h===ri&&a.error(ri.e)}e.add(a.subscribe(n))}function p(t){var e=t.value,i=t.subject;i.next(e),i.complete()}function f(t){var e=t.err,i=t.subject;i.error(e)}function d(t){return t&&"function"==typeof t.schedule}function m(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}function b(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var i=t.Set;if(i&&"function"==typeof(new i)["@@iterator"])return"@@iterator";var n=t.Map;if(n)for(var r=Object.getOwnPropertyNames(n.prototype),o=0;o<r.length;++o){var s=r[o];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}function y(t,e,i,n){var r=new Ci(t,i,n);if(r.closed)return null;if(e instanceof fi)return e._isScalar?(r.next(e.value),r.complete(),null):e.subscribe(r);if(ni(e)){for(var o=0,s=e.length;o<s&&!r.closed;o++)r.next(e[o]);r.closed||r.complete()}else{if(m(e))return e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,function(t){ei.setTimeout(function(){throw t})}),r;if("function"==typeof e[Ii])for(var u=e[Ii]();;){var c=u.next();if(c.done){r.complete();break}if(r.next(c.value),r.closed)break}else if("function"==typeof e[pi]){var a=e[pi]();if("function"==typeof a.subscribe)return a.subscribe(new Ci(t,i,n));r.error(new Error("invalid observable"))}else r.error(new TypeError("unknown type returned"))}return null}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=null;return"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&ni(t[0])&&(t=t[0]),t.unshift(this),this.lift.call(new Ei(t),new Ni(i))}function w(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=null,n=null;return d(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&ni(t[0])&&(t=t[0]),new Ei(t,n).lift(new Ni(i))}function g(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new Ai(t))}function x(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(_.apply(void 0,[this].concat(t)))}function _(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=null,n=t;return d(n[t.length-1])&&(i=n.pop()),null===i&&1===t.length?t[0]:new Ei(t,i).lift(new Ai(1))}function S(t){var e=t.value,i=t.subscriber;i.closed||(i.next(e),i.complete())}function T(t){var e=t.err,i=t.subscriber;i.closed||i.error(e)}function O(t){var e=t[Ii];if(!e&&"string"==typeof t)return new Wi(t);if(!e&&void 0!==t.length)return new Hi(t);if(!e)throw new TypeError("object is not iterable");return t[Ii]()}function E(t){var e=+t.length;return isNaN(e)?0:0!==e&&j(e)?(e=I(e)*Math.floor(Math.abs(e)),e<=0?0:e>Gi?Gi:e):e}function j(t){return"number"==typeof t&&ei.isFinite(t)}function I(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}function C(t,e){return void 0===e&&(e=0),this.lift(new $i(t,e))}function k(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function N(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function P(t){return!!t&&"[object NodeList]"===t.toString()}function A(t){return!!t&&"[object HTMLCollection]"===t.toString()}function V(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}function F(t){return!ni(t)&&t-parseFloat(t)+1>=0}function R(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(M.apply(void 0,[this].concat(t)))}function M(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return d(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof r&&(i=t.pop()),null===n&&1===t.length?t[0]:new Ei(t,n).lift(new Ai(i))}function z(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&ni(t[0])&&(t=t[0]),this.lift.call(q.apply(void 0,[this].concat(t)))}function q(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!ni(t[0]))return t[0];t=t[0]}return new Ei(t).lift(new xn)}function U(){}function L(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&ni(t[0])&&(t=t[0]),this.lift(new En(t))}function B(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=null;return 1===t.length&&ni(t[0])&&(t=t[0]),i=t.shift(),new tn(i,null).lift(new En(t))}function Y(t){var e=t.obj,i=t.keys,n=t.length,r=t.index,o=t.subscriber;if(r===n)return void o.complete();var s=i[r];o.next([s,e[s]]),t.index=r+1,this.schedule(t)}function D(t){return t instanceof Date&&!isNaN(+t)}function W(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(H.apply(void 0,[this].concat(t)))}function H(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=t[t.length-1];return"function"==typeof i&&t.pop(),new Ei(t).lift(new qn(i))}function G(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new Wn(t,e))}function J(){if(ei.XMLHttpRequest){var t=new ei.XMLHttpRequest;return"withCredentials"in t&&(t.withCredentials=!!this.withCredentials),t}if(ei.XDomainRequest)return new ei.XDomainRequest;throw new Error("CORS is not supported by your browser")}function X(){if(ei.XMLHttpRequest)return new ei.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=0;i<3;i++)try{if(t=e[i],new ei.ActiveXObject(t))break}catch(t){}return new ei.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}function $(t,e){return void 0===e&&(e=null),new Gn({method:"GET",url:t,headers:e})}function K(t,e,i){return new Gn({method:"POST",url:t,body:e,headers:i})}function Q(t,e){return new Gn({method:"DELETE",url:t,headers:e})}function Z(t,e,i){return new Gn({method:"PUT",url:t,body:e,headers:i})}function tt(t,e){return new Gn({method:"GET",url:t,responseType:"json",headers:e}).lift(new Wn(function(t,e){return t.response},null))}function et(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=e.length,r=0;r<n;r++){var o=e[r];for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t}function it(t){return t.Object.assign||et}function nt(t){return this.lift(new ur(t))}function rt(t,e){return void 0===e&&(e=null),this.lift(new ar(t,e))}function ot(t){var e=arguments.length,i=yn;d(arguments[arguments.length-1])&&(i=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var r=Number.POSITIVE_INFINITY;return e>=3&&(r=arguments[2]),this.lift(new hr(t,n,r,i))}function st(t){var e=t.subscriber,i=t.context;i&&e.closeContext(i),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function ut(t){var e=t.bufferCreationInterval,i=t.bufferTimeSpan,n=t.subscriber,r=t.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=r.schedule(ct,i,{subscriber:n,context:o})),s.schedule(t,e))}function ct(t){var e=t.subscriber,i=t.context;e.closeContext(i)}function at(t,e){return this.lift(new dr(t,e))}function lt(t){return this.lift(new br(t))}function ht(t){var e=new vr(t),i=this.lift(e);return e.caught=i}function pt(t){return this.lift(new Ni(t))}function ft(){return this.lift(new Ai(1))}function dt(t,e,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"number"==typeof e&&(i=e,e=null),this.lift(new gr(t,e,i))}function mt(t,e){return this.lift(new gr(t,e,1))}function bt(t,e,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"number"==typeof e&&(i=e,e=null),this.lift(new _r(t,e,i))}function yt(t,e){return this.lift(new _r(t,e,1))}function vt(t){return this.lift(new Tr(t,this))}function wt(){return this.lift(new Er)}function gt(t){return this.lift(new Ir(t))}function xt(t,e){return void 0===e&&(e=yn),this.lift(new kr(t,e))}function _t(t){t.debouncedNext()}function St(t){return void 0===t&&(t=null),this.lift(new Pr(t))}function Tt(t,e){void 0===e&&(e=yn);var i=D(t),n=i?+t-e.now():Math.abs(t);return this.lift(new Vr(n,e))}function Ot(t,e){return e?new qr(this,e).lift(new Mr(t)):this.lift(new Mr(t))}function Et(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return this._values.indexOf(t)!==-1},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}function jt(t,e){return this.lift(new Br(t,e))}function It(t,e){return this.lift(new Dr(t,e))}function Ct(t,e){return It.call(this,function(i,n){return e?e(i[t],n[t]):i[t]===n[t]})}function kt(t,e,i){return this.lift(new Hr(t,e,i))}function Nt(){return this.lift(new Jr)}function Pt(t,e){return this.lift(new $r(t,e))}function At(t,e,i){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===i&&(i=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,this.lift(new Qr(t,e,i))}function Vt(t,e){return this.lift(new eo(t,e))}function Ft(t,e){return this.lift(new no(t,e))}function Rt(t){return this.lift(new oo(t))}function Mt(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return this.lift(new uo(t,this,!1,e))}function zt(t,e){return this.lift(new uo(t,this,!0,e))}function qt(t,e,i){return this.lift(new lo(t,e,i,this))}function Ut(t,e,i,n){return this.lift(new bo(t,e,i,n))}function Lt(){return this.lift(new xo)}function Bt(){return this.lift(new So)}function Yt(t){return this.lift(new Oo(t))}function Dt(t,e){return void 0===e&&(e=yn),this.lift(new jo(t,e))}function Wt(t){t.clearThrottle()}function Ht(t,e,i){return this.lift(new Co(t,e,i,this))}function Gt(t){return t(this)}function Jt(t,e){return this.lift(new No(t,e,this))}function Xt(t){return this.lift(new Ao(t))}function $t(){return this.lift(new Fo)}function Kt(t,e){var i=!1;return arguments.length>=2&&(i=!0),this.lift(new Mo(t,e,i))}function Qt(t){var e="function"==typeof t?function(e,i){return t(e,i)>0?e:i}:function(t,e){return t>e?t:e};return this.lift(new Mo(e))}function Zt(t,e,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),this.lift(new qo(t,e,i))}function te(t){var e="function"==typeof t?function(e,i){return t(e,i)<0?e:i}:function(t,e){return t<e?t:e};return this.lift(new Mo(e))}function ee(t,e){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new Ho(i,e));var n=Object.create(this,Bo);return n.source=this,n.subjectFactory=i,n}function ie(){return this.lift(new Go)}function ne(t,e){function i(){return!i.pred.apply(i.thisArg,arguments)}return i.pred=t,i.thisArg=e,i}function re(t,e){return[Ft.call(this,t,e),Ft.call(this,ne(t,e))]}function oe(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=t.length;if(0===i)throw new Error("list of properties cannot be empty.");return G.call(this,se(t,i))}function se(t,e){var i=function(i){for(var n=i,r=0;r<e;r++){var o=n[t[r]];if("undefined"==typeof o)return;n=o}return n};return i}function ue(t){return t?ee.call(this,function(){return new yi},t):ee.call(this,new yi)}function ce(t){return ee.call(this,new Xo(t))}function ae(t,e,i){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),ee.call(this,new ir(t,e,i))}function le(){return ee.call(this,new wi)}function he(t){return void 0===t&&(t=-1),0===t?new Oi:t<0?this.lift(new $o(-1,this)):this.lift(new $o(t-1,this))}function pe(t){return this.lift(new Qo(t,this))}function fe(t){return void 0===t&&(t=-1),this.lift(new ts(t,this))}function de(t){return this.lift(new is(t,this))}function me(t){return this.lift(new rs(t))}function be(t,e){return void 0===e&&(e=yn),this.lift(new ss(t,e))}function ye(t){var e=t.subscriber,i=t.period;e.notifyNext(),this.schedule(t,i)}function ve(t,e){var i=!1;return arguments.length>=2&&(i=!0),this.lift(new cs(t,e,i))}function we(t,e){return this.lift(new ls(t,e))}function ge(){return new yi}function xe(){return ee.call(this,ge).refCount()}function _e(t){return this.lift(new fs(t,this))}function Se(t){return this.lift(new ms(t))}function Te(t){return this.lift(new ys(t))}function Oe(t){return this.lift(new ws(t))}function Ee(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i=t[t.length-1];d(i)?t.pop():i=null;var n=t.length;return 1===n?_(new Ti(t[0],i),this):n>1?_(new Ei(t,i),this):_(new Oi(i),this)}function je(t,e){return void 0===e&&(e=0),new Es(this,e,t)}function Ie(){return this.lift(new js)}function Ce(t,e){return this.lift(new Cs(t,e))}function ke(t,e){return this.lift(new Ns(t,e))}function Ne(t){return 0===t?new Oi:this.lift(new As(t))}function Pe(t){return 0===t?new Oi:this.lift(new Fs(t))}function Ae(t){return this.lift(new Ms(t))}function Ve(t){return this.lift(new qs(t))}function Fe(t){return this.lift(new Ls(t))}function Re(t,e){return void 0===e&&(e=yn),this.lift(new Ys(t,e))}function Me(t){var e=t.subscriber;e.clearThrottle()}function ze(t){return void 0===t&&(t=yn),this.lift(new Hs(t))}function qe(t,e,i){void 0===e&&(e=null),void 0===i&&(i=yn);var n=D(t),r=n?+t-i.now():Math.abs(t),o=e||new Js;return this.lift(new Xs(r,n,o,i))}function Ue(t,e,i){void 0===i&&(i=yn);var n=D(t),r=n?+t-i.now():Math.abs(t);return this.lift(new Ks(r,n,e,i))}function Le(t){return void 0===t&&(t=yn),this.lift(new tu(t))}function Be(){return this.lift(new iu)}function Ye(t){var e=this;if(t||(ei.Rx&&ei.Rx.config&&ei.Rx.config.Promise?t=ei.Rx.config.Promise:ei.Promise&&(t=ei.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,i){var n;e.subscribe(function(t){return n=t},function(t){return i(t)},function(){return t(n)})})}function De(t){return this.lift(new ru(t))}function We(t,e){return void 0===e&&(e=0),this.lift(new su(t,e))}function He(t,e,i){return void 0===e&&(e=null),void 0===i&&(i=yn),this.lift(new cu(t,e,i))}function Ge(t){var e=t.subscriber,i=t.windowTimeSpan,n=t.window;n&&n.complete(),t.window=e.openWindow(),this.schedule(t,i)}function Je(t){var e=t.windowTimeSpan,i=t.subscriber,n=t.scheduler,r=t.windowCreationInterval,o=i.openWindow(),s=this,u={action:s,subscription:null},c={subscriber:i,window:o,context:u};u.subscription=n.schedule(Xe,e,c),s.add(u.subscription),s.schedule(t,r)}function Xe(t){var e=t.subscriber,i=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(i)}function $e(t,e){return this.lift(new lu(t,e))}function Ke(t){return this.lift(new pu(t))}function Qe(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i;"function"==typeof t[t.length-1]&&(i=t.pop());var n=t;return this.lift(new du(n,i))}function Ze(t){return this.lift(new qn(t))}function ti(t,e){for(var i=0,n=e.length;i<n;i++)for(var r=e[i],o=Object.getOwnPropertyNames(r.prototype),s=0,u=o.length;s<u;s++){var c=o[s];t.prototype[c]=r.prototype[c]}}var ei="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof i&&i.global===i&&i;if(!ei)throw new Error("RxJS could not find any global context (window, self, global)");var ii,ni=Array.isArray||function(t){return t&&"number"==typeof t.length},ri={e:{}},oi=function(t){function e(e){t.call(this),this.errors=e;var i=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=i.name="UnsubscriptionError",this.stack=i.stack,this.message=i.message}return u(e,t),e}(Error),si=function(){function t(t){this.closed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,i=!1;if(!this.closed){this.closed=!0;var r=this,s=r._unsubscribe,u=r._subscriptions;if(this._subscriptions=null,e(s)){var c=o(s).call(this);c===ri&&(i=!0,(t=t||[]).push(ri.e))}if(ni(u))for(var a=-1,l=u.length;++a<l;){var h=u[a];if(n(h)){var c=o(h.unsubscribe).call(h);if(c===ri){i=!0,t=t||[];var p=ri.e;p instanceof oi?t=t.concat(p.errors):t.push(p)}}}if(i)throw new oi(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var i=e;switch(typeof e){case"function":i=new t(e);case"object":if(i.closed||"function"!=typeof i.unsubscribe)break;this.closed?i.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(i);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return i},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var i=this._subscriptions;if(i){var n=i.indexOf(e);n!==-1&&i.splice(n,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}(),ui={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}},ci=ei.Symbol,ai="function"==typeof ci&&"function"==typeof ci.for?ci.for("rxSubscriber"):"@@rxSubscriber",li=function(t){function e(i,n,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ui;break;case 1:if(!i){this.destination=ui;break}if("object"==typeof i){i instanceof e?(this.destination=i,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new hi(this,i));break}default:this.syncErrorThrowable=!0,this.destination=new hi(this,i,n,r)}}return u(e,t),e.prototype[ai]=function(){return this},e.create=function(t,i,n){var r=new e(t,i,n);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(si),hi=function(t){function i(i,n,r,o){t.call(this),this._parent=i;var s,u=this;e(n)?s=n:n&&(u=n,s=n.next,r=n.error,o=n.complete,e(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this)),this._context=u,this._next=s,this._error=r,this._complete=o}return u(i,t),i.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},i.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},i.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},i.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},i.prototype.__tryOrSetError=function(t,e,i){try{e.call(this._context,i)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},i.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},i}(li),pi=c(ei),fi=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var i=new t;return i.source=this,i.operator=e,i},t.prototype.subscribe=function(t,e,i){var n=this.operator,r=s(t,e,i);if(n?n.call(r,this):r.add(this._subscribe(r)),r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},t.prototype.forEach=function(t,e){var i=this;if(e||(ei.Rx&&ei.Rx.config&&ei.Rx.config.Promise?e=ei.Rx.config.Promise:ei.Promise&&(e=ei.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r=i.subscribe(function(e){if(r)try{t(e)}catch(t){n(t),r.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[pi]=function(){return this},t.create=function(e){return new t(e)},t}(),di=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return u(e,t),e}(Error),mi=function(t){function e(e,i){t.call(this),this.subject=e,this.subscriber=i,this.closed=!1}return u(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);i!==-1&&e.splice(i,1)}}},e}(si),bi=function(t){function e(e){t.call(this,e),this.destination=e}return u(e,t),e}(li),yi=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return u(e,t),e.prototype[ai]=function(){return new bi(this)},e.prototype.lift=function(t){var e=new vi(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new di;if(!this.isStopped)for(var e=this.observers,i=e.length,n=e.slice(),r=0;r<i;r++)n[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new di;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,i=e.length,n=e.slice(),r=0;r<i;r++)n[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new di;this.isStopped=!0;for(var t=this.observers,e=t.length,i=t.slice(),n=0;n<e;n++)i[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._subscribe=function(t){if(this.closed)throw new di;return this.hasError?(t.error(this.thrownError),si.EMPTY):this.isStopped?(t.complete(),si.EMPTY):(this.observers.push(t),new mi(this,t))},e.prototype.asObservable=function(){var t=new fi;return t.source=this,t},e.create=function(t,e){return new vi(t,e)},e}(fi),vi=function(t){function e(e,i){t.call(this),this.destination=e,this.source=i}return u(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):si.EMPTY},e}(yi),wi=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return u(e,t),e.prototype._subscribe=function(e){return this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),si.EMPTY):this.hasError?(e.error(this.thrownError),si.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(yi),gi=function(t){function e(e,i,n,r){t.call(this),this.callbackFunc=e,this.selector=i,this.args=n,this.scheduler=r}return u(e,t),e.create=function(t,i,n){return void 0===i&&(i=void 0),function(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];return new e(t,i,r,n)}},e.prototype._subscribe=function(t){var i=this.callbackFunc,n=this.args,r=this.scheduler,s=this.subject;if(r)return r.schedule(e.dispatch,0,{source:this,subscriber:t});if(!s){s=this.subject=new wi;var u=function t(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];var n=t.source,r=n.selector,s=n.subject;if(r){var u=o(r).apply(this,e);u===ri?s.error(ri.e):(s.next(u),s.complete())}else s.next(1===e.length?e[0]:e),s.complete()};u.source=this;var c=o(i).apply(this,n.concat(u));c===ri&&s.error(ri.e)}return s.subscribe(t)},e.dispatch=function(t){var e=this,i=t.source,n=t.subscriber,r=i.callbackFunc,s=i.args,u=i.scheduler,c=i.subject;if(!c){c=i.subject=new wi;var h=function t(){for(var i=[],n=0;n<arguments.length;n++)i[n-0]=arguments[n];var r=t.source,s=r.selector,c=r.subject;if(s){var h=o(s).apply(this,i);h===ri?e.add(u.schedule(l,0,{err:ri.e,subject:c})):e.add(u.schedule(a,0,{value:h,subject:c}))}else{var p=1===i.length?i[0]:i;e.add(u.schedule(a,0,{value:p,subject:c}))}};h.source=i;var p=o(r).apply(this,s.concat(h));p===ri&&c.error(ri.e)}e.add(c.subscribe(n))},e}(fi),xi=gi.create;fi.bindCallback=xi;var _i=function(t){function e(e,i,n,r){t.call(this),this.callbackFunc=e,this.selector=i,this.args=n,this.scheduler=r}return u(e,t),e.create=function(t,i,n){return void 0===i&&(i=void 0),function(){for(var r=[],o=0;o<arguments.length;o++)r[o-0]=arguments[o];return new e(t,i,r,n)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,i=this.args,n=this.scheduler,r=this.subject;if(n)return n.schedule(h,0,{source:this,subscriber:t});if(!r){r=this.subject=new wi;var s=function t(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];var n=t.source,r=n.selector,s=n.subject,u=e.shift();if(u)s.error(u);else if(r){var c=o(r).apply(this,e);c===ri?s.error(ri.e):(s.next(c),s.complete())}else s.next(1===e.length?e[0]:e),s.complete()};s.source=this;var u=o(e).apply(this,i.concat(s));u===ri&&r.error(ri.e)}return r.subscribe(t)},e}(fi),Si=_i.create;fi.bindNodeCallback=Si;var Ti=function(t){function e(e,i){t.call(this),this.value=e,this.scheduler=i,this._isScalar=!0,i&&(this._isScalar=!1)}return u(e,t),e.create=function(t,i){return new e(t,i)},e.dispatch=function(t){var e=t.done,i=t.value,n=t.subscriber;return e?void n.complete():(n.next(i),void(n.closed||(t.done=!0,this.schedule(t))))},e.prototype._subscribe=function(t){var i=this.value,n=this.scheduler;return n?n.schedule(e.dispatch,0,{done:!1,value:i,subscriber:t}):(t.next(i),void(t.closed||t.complete()))},e}(fi),Oi=function(t){function e(e){t.call(this),this.scheduler=e}return u(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){var e=t.subscriber;e.complete()},e.prototype._subscribe=function(t){var i=this.scheduler;return i?i.schedule(e.dispatch,0,{subscriber:t}):void t.complete()},e}(fi),Ei=function(t){function e(e,i){t.call(this),this.array=e,this.scheduler=i,i||1!==e.length||(this._isScalar=!0,this.value=e[0])}return u(e,t),e.create=function(t,i){return new e(t,i)},e.of=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];var n=t[t.length-1];d(n)?t.pop():n=null;var r=t.length;return r>1?new e(t,n):1===r?new Ti(t[0],n):new Oi(n)},e.dispatch=function(t){var e=t.array,i=t.index,n=t.count,r=t.subscriber;return i>=n?void r.complete():(r.next(e[i]),void(r.closed||(t.index=i+1,this.schedule(t))))},e.prototype._subscribe=function(t){var i=0,n=this.array,r=n.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:n,index:i,count:r,subscriber:t});for(var s=0;s<r&&!t.closed;s++)t.next(n[s]);t.complete()},e}(fi),ji=function(t){function e(){t.apply(this,arguments)}return u(e,t),e.prototype.notifyNext=function(t,e,i,n,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(li),Ii=b(ei),Ci=function(t){function e(e,i,n){t.call(this),this.parent=e,this.outerValue=i,this.outerIndex=n,this.index=0}return u(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(li),ki={},Ni=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new Pi(t,this.project))},t}(),Pi=function(t){function e(e,i){t.call(this,e),this.project=i,this.active=0,this.values=[],this.observables=[]}return u(e,t),e.prototype._next=function(t){this.values.push(ki),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var i=0;i<e;i++){var n=t[i];this.add(y(this,n,n,i))}}},e.prototype.notifyComplete=function(t){0===(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,i,n,r){var o=this.values,s=o[i],u=this.toRespond?s===ki?--this.toRespond:this.toRespond:0;o[i]=e,0===u&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(ji);fi.combineLatest=w;var Ai=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e._subscribe(new Vi(t,this.concurrent))},t}(),Vi=function(t){function e(e,i){t.call(this,e),this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0}return u(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(y(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(ji),Fi=_;fi.concat=Fi;var Ri=function(t){function e(e){t.call(this),this.observableFactory=e}return u(e,t),e.create=function(t){
return new e(t)},e.prototype._subscribe=function(t){return new Mi(t,this.observableFactory)},e}(fi),Mi=function(t){function e(e,i){t.call(this,e),this.factory=i,this.tryDefer()}return u(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(y(this,t))},e}(ji),zi=Ri.create;fi.defer=zi;var qi=Oi.create;fi.empty=qi;var Ui=function(t){function e(e,i){t.call(this),this.sources=e,this.resultSelector=i}return u(e,t),e.create=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];if(null===t||0===arguments.length)return new Oi;var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&ni(t[0])&&(t=t[0]),0===t.length?new Oi:new e(t,n)},e.prototype._subscribe=function(t){return new Li(t,this.sources,this.resultSelector)},e}(fi),Li=function(t){function e(e,i,n){t.call(this,e),this.sources=i,this.resultSelector=n,this.completed=0,this.haveValues=0;var r=i.length;this.total=r,this.values=new Array(r);for(var o=0;o<r;o++){var s=i[o],u=y(this,s,null,o);u&&(u.outerIndex=o,this.add(u))}}return u(e,t),e.prototype.notifyNext=function(t,e,i,n,r){this.values[i]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,i=this,n=i.haveValues,r=i.resultSelector,o=i.values,s=o.length;if(!t._hasValue)return void e.complete();if(this.completed++,this.completed===s){if(n===s){var u=r?r.apply(this,o):o;e.next(u)}e.complete()}},e}(ji),Bi=Ui.create;fi.forkJoin=Bi;var Yi=function(t){function e(e,i){t.call(this),this.promise=e,this.scheduler=i}return u(e,t),e.create=function(t,i){return new e(t,i)},e.prototype._subscribe=function(t){var e=this,i=this.promise,n=this.scheduler;if(null==n)this._isScalar?t.closed||(t.next(this.value),t.complete()):i.then(function(i){e.value=i,e._isScalar=!0,t.closed||(t.next(i),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){ei.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return n.schedule(S,0,{value:this.value,subscriber:t})}else i.then(function(i){e.value=i,e._isScalar=!0,t.closed||t.add(n.schedule(S,0,{value:i,subscriber:t}))},function(e){t.closed||t.add(n.schedule(T,0,{err:e,subscriber:t}))}).then(null,function(t){ei.setTimeout(function(){throw t})})},e}(fi),Di=function(t){function e(e,i){if(t.call(this),this.scheduler=i,null==e)throw new Error("iterator cannot be null.");this.iterator=O(e)}return u(e,t),e.create=function(t,i){return new e(t,i)},e.dispatch=function(t){var e=t.index,i=t.hasError,n=t.iterator,r=t.subscriber;if(i)return void r.error(t.error);var o=n.next();return o.done?void r.complete():(r.next(o.value),t.index=e+1,r.closed?void("function"==typeof n.return&&n.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var i=0,n=this,r=n.iterator,o=n.scheduler;if(o)return o.schedule(e.dispatch,0,{index:i,iterator:r,subscriber:t});for(;;){var s=r.next();if(s.done){t.complete();break}if(t.next(s.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(fi),Wi=function(){function t(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length),this.str=t,this.idx=e,this.len=i}return t.prototype[Ii]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),Hi=function(){function t(t,e,i){void 0===e&&(e=0),void 0===i&&(i=E(t)),this.arr=t,this.idx=e,this.len=i}return t.prototype[Ii]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),Gi=Math.pow(2,53)-1,Ji=function(t){function e(e,i){t.call(this),this.arrayLike=e,this.scheduler=i,i||1!==e.length||(this._isScalar=!0,this.value=e[0])}return u(e,t),e.create=function(t,i){var n=t.length;return 0===n?new Oi:1===n?new Ti(t[0],i):new e(t,i)},e.dispatch=function(t){var e=t.arrayLike,i=t.index,n=t.length,r=t.subscriber;if(!r.closed){if(i>=n)return void r.complete();r.next(e[i]),t.index=i+1,this.schedule(t)}},e.prototype._subscribe=function(t){var i=0,n=this,r=n.arrayLike,o=n.scheduler,s=r.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:r,index:i,length:s,subscriber:t});for(var u=0;u<s&&!t.closed;u++)t.next(r[u]);t.complete()},e}(fi),Xi=function(){function t(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,i){var n=this.kind;switch(n){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}},t.prototype.accept=function(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)},t.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return fi.of(this.value);case"E":return fi.throw(this.error);case"C":return fi.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!=typeof e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),$i=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e._subscribe(new Ki(t,this.scheduler,this.delay))},t}(),Ki=function(t){function e(e,i,n){void 0===n&&(n=0),t.call(this,e),this.scheduler=i,this.delay=n}return u(e,t),e.dispatch=function(t){var e=t.notification,i=t.destination;e.observe(i)},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new Qi(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Xi.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Xi.createError(t))},e.prototype._complete=function(){this.scheduleMessage(Xi.createComplete())},e}(li),Qi=function(){function t(t,e){this.notification=t,this.destination=e}return t}(),Zi=function(t){return t&&"number"==typeof t.length},tn=function(t){function e(e,i){t.call(this,null),this.ish=e,this.scheduler=i}return u(e,t),e.create=function(t,i){if(null!=t){if("function"==typeof t[pi])return t instanceof fi&&!i?t:new e(t,i);if(ni(t))return new Ei(t,i);if(m(t))return new Yi(t,i);if("function"==typeof t[Ii]||"string"==typeof t)return new Di(t,i);if(Zi(t))return new Ji(t,i)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,i=this.scheduler;return null==i?e[pi]().subscribe(t):e[pi]().subscribe(new Ki(t,i,0))},e}(fi),en=tn.create;fi.from=en;var nn=function(t){function i(e,i,n,r){t.call(this),this.sourceObj=e,this.eventName=i,this.selector=n,this.options=r}return u(i,t),i.create=function(t,n,r,o){return e(r)&&(o=r,r=void 0),new i(t,n,o,r)},i.setupSubscription=function(t,e,n,r,o){var s;if(P(t)||A(t))for(var u=0,c=t.length;u<c;u++)i.setupSubscription(t[u],e,n,r,o);else if(V(t)){var a=t;t.addEventListener(e,n,o),s=function(){return a.removeEventListener(e,n)}}else if(N(t)){var l=t;t.on(e,n),s=function(){return l.off(e,n)}}else{if(!k(t))throw new TypeError("Invalid event target");var h=t;t.addListener(e,n),s=function(){return h.removeListener(e,n)}}r.add(new si(s))},i.prototype._subscribe=function(t){var e=this.sourceObj,n=this.eventName,r=this.options,s=this.selector,u=s?function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];var n=o(s).apply(void 0,e);n===ri?t.error(ri.e):t.next(n)}:function(e){return t.next(e)};i.setupSubscription(e,n,u,t,r)},i}(fi),rn=nn.create;fi.fromEvent=rn;var on=function(t){function e(e,i,n){t.call(this),this.addHandler=e,this.removeHandler=i,this.selector=n}return u(e,t),e.create=function(t,i,n){return new e(t,i,n)},e.prototype._subscribe=function(t){var e=this,i=this.removeHandler,n=this.selector?function(){for(var i=[],n=0;n<arguments.length;n++)i[n-0]=arguments[n];e._callSelector(t,i)}:function(e){t.next(e)};this._callAddHandler(n,t),t.add(new si(function(){i(n)}))},e.prototype._callSelector=function(t,e){try{var i=this.selector.apply(this,e);t.next(i)}catch(e){t.error(e)}},e.prototype._callAddHandler=function(t,e){try{this.addHandler(t)}catch(t){e.error(t)}},e}(fi),sn=on.create;fi.fromEventPattern=sn;var un=Yi.create;fi.fromPromise=un;var cn=function(t){return t},an=function(t){function e(e,i,n,r,o){t.call(this),this.initialState=e,this.condition=i,this.iterate=n,this.resultSelector=r,this.scheduler=o}return u(e,t),e.create=function(t,i,n,r,o){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||cn,t.scheduler):void 0===r||d(r)?new e(t,i,n,cn,r):new e(t,i,n,r,o)},e.prototype._subscribe=function(t){var i=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:i});for(var n=this,r=n.condition,o=n.resultSelector,s=n.iterate;;){if(r){var u=void 0;try{u=r(i)}catch(e){return void t.error(e)}if(!u){t.complete();break}}var c=void 0;try{c=o(i)}catch(e){return void t.error(e)}if(t.next(c),t.closed)break;try{i=s(i)}catch(e){return void t.error(e)}}},e.dispatch=function(t){var e=t.subscriber,i=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(i){var n=void 0;try{n=i(t.state)}catch(t){return void e.error(t)}if(!n)return void e.complete();if(e.closed)return}var r;try{r=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(r),!e.closed))return this.schedule(t)}},e}(fi);fi.generate=an.create;var ln=function(t){function e(e,i,n){t.call(this),this.condition=e,this.thenSource=i,this.elseSource=n}return u(e,t),e.create=function(t,i,n){return new e(t,i,n)},e.prototype._subscribe=function(t){var e=this,i=e.condition,n=e.thenSource,r=e.elseSource;return new hn(t,i,n,r)},e}(fi),hn=function(t){function e(e,i,n,r){t.call(this,e),this.condition=i,this.thenSource=n,this.elseSource=r,this.tryIf()}return u(e,t),e.prototype.tryIf=function(){var t,e=this,i=e.condition,n=e.thenSource,r=e.elseSource;try{t=i();var o=t?n:r;o?this.add(y(this,o)):this._complete()}catch(t){this._error(t)}},e}(ji),pn=ln.create;fi.if=pn;var fn=function(t){function e(e,i){t.call(this)}return u(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(si),dn=function(t){function e(e,i){t.call(this,e,i),this.scheduler=e,this.work=i,this.pending=!1}return u(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),ei.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,e,i){return void 0===i&&(i=0),null!==i&&this.delay===i?e:ei.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,e);return i?i:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},e.prototype._execute=function(t,e){var i=!1,n=void 0;try{this.work(t)}catch(t){i=!0,n=!!t&&t||new Error(t)}if(i)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,n!==-1&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(fn),mn=function(){function t(e,i){void 0===i&&(i=t.now),this.SchedulerAction=e,this.now=i}return t.prototype.schedule=function(t,e,i){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(i,e)},t.now=Date.now?Date.now:function(){return+new Date},t}(),bn=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return u(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var i;this.active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}},e}(mn),yn=new bn(dn),vn=function(t){function e(e,i){void 0===e&&(e=0),void 0===i&&(i=yn),t.call(this),this.period=e,this.scheduler=i,(!F(e)||e<0)&&(this.period=0),i&&"function"==typeof i.schedule||(this.scheduler=yn)}return u(e,t),e.create=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=yn),new e(t,i)},e.dispatch=function(t){var e=t.index,i=t.subscriber,n=t.period;i.next(e),i.closed||(t.index+=1,this.schedule(t,n))},e.prototype._subscribe=function(t){var i=0,n=this.period,r=this.scheduler;t.add(r.schedule(e.dispatch,n,{index:i,subscriber:t,period:n}))},e}(fi),wn=vn.create;fi.interval=wn;var gn=M;fi.merge=gn;var xn=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new _n(t))},t}(),_n=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return u(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var i=0;i<e;i++){var n=t[i],r=y(this,n,n,i);this.subscriptions&&(this.subscriptions.push(r),this.add(r))}this.observables=null}},e.prototype.notifyNext=function(t,e,i,n,r){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(ji);fi.race=q;var Sn=function(t){function e(){t.call(this)}return u(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){U()},e}(fi),Tn=Sn.create;fi.never=Tn;var On=Ei.of;fi.of=On;var En=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e._subscribe(new jn(t,this.nextSources))},t}(),jn=function(t){function e(e,i){t.call(this,e),this.destination=e,this.nextSources=i}return u(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(y(this,t)):this.destination.complete()},e}(ji);fi.onErrorResumeNext=B;var In=function(t){function e(e,i){t.call(this),this.obj=e,this.scheduler=i,this.keys=Object.keys(e)}return u(e,t),e.create=function(t,i){return new e(t,i)},e.prototype._subscribe=function(t){var e=this,i=e.keys,n=e.scheduler,r=i.length;if(n)return n.schedule(Y,0,{obj:this.obj,keys:i,length:r,index:0,subscriber:t});for(var o=0;o<r;o++){var s=i[o];t.next([s,this.obj[s]])}t.complete()},e}(fi),Cn=In.create;fi.pairs=Cn;var kn=function(t){function e(e,i,n){t.call(this),this.start=e,this._count=i,this.scheduler=n}return u(e,t),e.create=function(t,i,n){return void 0===t&&(t=0),void 0===i&&(i=0),new e(t,i,n)},e.dispatch=function(t){var e=t.start,i=t.index,n=t.count,r=t.subscriber;return i>=n?void r.complete():(r.next(e),void(r.closed||(t.index=i+1,t.start=e+1,this.schedule(t))))},e.prototype._subscribe=function(t){var i=0,n=this.start,r=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:i,count:r,start:n,subscriber:t});for(;;){if(i++>=r){t.complete();break}if(t.next(n++),t.closed)break}},e}(fi),Nn=kn.create;fi.range=Nn;var Pn=function(t){function e(e,i){t.call(this),this.resourceFactory=e,this.observableFactory=i}return u(e,t),e.create=function(t,i){return new e(t,i)},e.prototype._subscribe=function(t){var e,i=this,n=i.resourceFactory,r=i.observableFactory;try{return e=n(),new An(t,e,r)}catch(e){t.error(e)}},e}(fi),An=function(t){function e(e,i,n){t.call(this,e),this.resource=i,this.observableFactory=n,e.add(i),this.tryUse()}return u(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(y(this,t))}catch(t){this._error(t)}},e}(ji),Vn=Pn.create;fi.using=Vn;var Fn=function(t){function e(e,i){t.call(this),this.error=e,this.scheduler=i}return u(e,t),e.create=function(t,i){return new e(t,i)},e.dispatch=function(t){var e=t.error,i=t.subscriber;i.error(e)},e.prototype._subscribe=function(t){var i=this.error,n=this.scheduler;return n?n.schedule(e.dispatch,0,{error:i,subscriber:t}):void t.error(i)},e}(fi),Rn=Fn.create;fi.throw=Rn;var Mn=function(t){function e(e,i,n){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,F(i)?this.period=Number(i)<1&&1||Number(i):d(i)&&(n=i),d(n)||(n=yn),this.scheduler=n,this.dueTime=D(e)?+e-this.scheduler.now():e}return u(e,t),e.create=function(t,i,n){return void 0===t&&(t=0),new e(t,i,n)},e.dispatch=function(t){var e=t.index,i=t.period,n=t.subscriber,r=this;if(n.next(e),!n.closed){if(i===-1)return n.complete();t.index=e+1,r.schedule(t,i)}},e.prototype._subscribe=function(t){var i=0,n=this,r=n.period,o=n.dueTime,s=n.scheduler;return s.schedule(e.dispatch,o,{index:i,period:r,subscriber:t})},e}(fi),zn=Mn.create;fi.timer=zn;var qn=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e._subscribe(new Un(t,this.project))},t}(),Un=function(t){function e(e,i,n){void 0===n&&(n=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof i?i:null,this.values=n}return u(e,t),e.prototype._next=function(t){var e=this.iterators;ni(t)?e.push(new Bn(t)):"function"==typeof t[Ii]?e.push(new Ln(t[Ii]())):e.push(new Yn(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;this.active=e;for(var i=0;i<e;i++){var n=t[i];n.stillUnsubscribed?this.add(n.subscribe(n,i)):this.active--}},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,i=this.destination,n=0;n<e;n++){var r=t[n];if("function"==typeof r.hasValue&&!r.hasValue())return}for(var o=!1,s=[],n=0;n<e;n++){var r=t[n],u=r.next();if(r.hasCompleted()&&(o=!0),u.done)return void i.complete();s.push(u.value)}this.project?this._tryProject(s):i.next(s),o&&i.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(li),Ln=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),Bn=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[Ii]=function(){return this},t.prototype.next=function(t){var e=this.index++,i=this.array;return e<this.length?{value:i[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Yn=function(t){function e(e,i,n){t.call(this,e),this.parent=i,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return u(e,t),e.prototype[Ii]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,i,n,r){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return y(this,this.observable,this,e)},e}(ji),Dn=H;fi.zip=Dn;var Wn=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new Hn(t,this.project,this.thisArg))},t}(),Hn=function(t){function e(e,i,n){t.call(this,e),this.project=i,this.count=0,this.thisArg=n||this}return u(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(li),Gn=function(t){function e(e){t.call(this);var i={async:!0,createXHR:function(){return this.crossDomain?J.call(this):X()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)i.url=e;else for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);this.request=i}return u(e,t),e.prototype._subscribe=function(t){return new Jn(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=$,t.post=K,t.delete=Q,t.put=Z,t.getJSON=tt,t}(),e}(fi),Jn=function(t){function e(e,i){t.call(this,e),this.request=i,this.done=!1;var n=i.headers=i.headers||{};i.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||ei.FormData&&i.body instanceof ei.FormData||"undefined"==typeof i.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),i.body=this.serializeBody(i.body,i.headers["Content-Type"]),this.send()}return u(e,t),e.prototype.next=function(t){this.done=!0;var e=this,i=e.xhr,n=e.request,r=e.destination,o=new Xn(t,i,n);r.next(o)},e.prototype.send=function(){var t=this,e=t.request,i=t.request,n=i.user,r=i.method,s=i.url,u=i.async,c=i.password,a=i.headers,l=i.body,h=e.createXHR,p=o(h).call(e);if(p===ri)this.error(ri.e);else{this.xhr=p;var f=void 0;if(f=n?o(p.open).call(p,r,s,u,n,c):o(p.open).call(p,r,s,u),f===ri)return this.error(ri.e),null;p.timeout=e.timeout,p.responseType=e.responseType,this.setHeaders(p,a),this.setupEvents(p,e),l?p.send(l):p.send()}return p},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(ei.FormData&&t instanceof ei.FormData)return t;if(e){var i=e.indexOf(";");i!==-1&&(e=e.substring(0,i))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setRequestHeader(i,e[i])},e.prototype.setupEvents=function(t,e){function i(t){var e=i,n=e.subscriber,r=e.progressSubscriber,o=e.request;r&&r.error(t),n.error(new Kn(this,o))}function n(t){var e=n,i=e.subscriber,r=e.progressSubscriber,o=e.request;if(4===this.readyState){var s=1223===this.status?204:this.status,u="text"===this.responseType?this.response||this.responseText:this.response;0===s&&(s=u?200:0),200<=s&&s<300?(r&&r.complete(),i.next(t),i.complete()):(r&&r.error(t),i.error(new $n("ajax error "+s,this,o)))}}var r=e.progressSubscriber;if(t.ontimeout=i,i.request=e,i.subscriber=this,i.progressSubscriber=r,t.upload&&"withCredentials"in t&&ei.XDomainRequest){if(r){var o;o=function(t){var e=o.progressSubscriber;e.next(t)},t.onprogress=o,o.progressSubscriber=r}var s;s=function(t){var e=s,i=e.progressSubscriber,n=e.subscriber,r=e.request;i&&i.error(t),n.error(new $n("ajax error",this,r))},t.onerror=s,s.request=e,s.subscriber=this,s.progressSubscriber=r}t.onreadystatechange=n,n.subscriber=this,n.progressSubscriber=r,n.request=e},e.prototype.unsubscribe=function(){var e=this,i=e.done,n=e.xhr;!i&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),t.prototype.unsubscribe.call(this)},e}(li),Xn=function(){function t(t,e,i){switch(this.originalEvent=t,this.xhr=e,this.request=i,this.status=e.status,this.responseType=e.responseType||i.responseType,this.responseType){case"json":"response"in e?this.response=e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):this.response=JSON.parse(e.responseText||"null");break;case"xml":this.response=e.responseXML;break;case"text":default:this.response="response"in e?e.response:e.responseText}}return t}(),$n=function(t){function e(e,i,n){t.call(this,e),this.message=e,this.xhr=i,this.request=n,this.status=i.status}return u(e,t),e}(Error),Kn=function(t){function e(e,i){t.call(this,"ajax timeout",e,i)}return u(e,t),e}($n),Qn=Gn.create;fi.ajax=Qn;var Zn=function(t){function e(e,i){t.call(this,e,i),this.scheduler=e,this.work=i}return u(e,t),e.prototype.schedule=function(e,i){return void 0===i&&(i=0),i>0?t.prototype.schedule.call(this,e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,i){return i>0||this.closed?t.prototype.execute.call(this,e,i):this._execute(e,i)},e.prototype.requestAsyncId=function(e,i,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,i,n):e.flush(this)},e}(dn),tr=function(t){function e(){t.apply(this,arguments)}return u(e,t),e}(bn),er=new tr(Zn),ir=function(t){function e(e,i,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=n,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=i<1?1:i}return u(e,t),e.prototype.next=function(e){var i=this._getNow();this._events.push(new nr(i,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,i=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new di;this.hasError?e=si.EMPTY:this.isStopped?e=si.EMPTY:(this.observers.push(t),e=new mi(this,t)),n&&t.add(t=new Ki(t,n));for(var r=i.length,o=0;o<r&&!t.closed;o++)t.next(i[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||er).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,i=this._windowTime,n=this._events,r=n.length,o=0;o<r&&!(t-n[o].time<i);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&n.splice(0,o),n},e}(yi),nr=function(){function t(t,e){this.time=t,this.value=e}return t}(),rr=it(ei),or=function(t){function e(e,i){if(e instanceof fi)t.call(this,i,e);else{if(t.call(this),this.WebSocketCtor=ei.WebSocket,this._output=new yi,"string"==typeof e?this.url=e:rr(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new ir}}return u(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var i=new e(this,this.destination);return i.operator=t,i},e.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new ir),this._output=new yi},e.prototype.multiplex=function(t,e,i){var n=this;return new fi(function(r){var s=o(t)();s===ri?r.error(ri.e):n.next(s);var u=n.subscribe(function(t){var e=o(i)(t);e===ri?r.error(ri.e):e&&r.next(t)},function(t){return r.error(t)},function(){return r.complete()});return function(){var t=o(e)();t===ri?r.error(ri.e):n.next(t),u.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,i=this._output,n=null;try{n=this.protocol?new e(this.url,this.protocol):new e(this.url),this.socket=n}catch(t){return void i.error(t)}var r=new si(function(){t.socket=null,n&&1===n.readyState&&n.close()});n.onopen=function(e){var o=t.openObserver;o&&o.next(e);var s=t.destination;t.destination=li.create(function(t){return 1===n.readyState&&n.send(t)},function(e){var r=t.closingObserver;r&&r.next(void 0),e&&e.code?n.close(e.code,e.reason):i.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t._resetState()},function(){var e=t.closingObserver;e&&e.next(void 0),n.close(),t._resetState()}),s&&s instanceof ir&&r.add(s.subscribe(t.destination))},n.onerror=function(e){t._resetState(),i.error(e)},n.onclose=function(e){t._resetState();var n=t.closeObserver;n&&n.next(e),e.wasClean?i.complete():i.error(e)},n.onmessage=function(e){var n=o(t.resultSelector)(e);n===ri?i.error(ri.e):i.next(n)}},e.prototype._subscribe=function(t){var e=this,i=this.source;if(i)return i.subscribe(t);this.socket||this._connectSocket();var n=new si;return n.add(this._output.subscribe(t)),n.add(function(){var t=e.socket;0===e._output.observers.length&&(t&&1===t.readyState&&t.close(),e._resetState())}),n},e.prototype.unsubscribe=function(){var e=this,i=e.source,n=e.socket;n&&1===n.readyState&&(n.close(),this._resetState()),t.prototype.unsubscribe.call(this),i||(this.destination=new ir)},e}(vi),sr=or.create;fi.webSocket=sr;var ur=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e._subscribe(new cr(t,this.closingNotifier))},t}(),cr=function(t){function e(e,i){t.call(this,e),this.buffer=[],this.add(y(this,i))}return u(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,i,n,r){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(ji);fi.prototype.buffer=nt;var ar=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new lr(t,this.bufferSize,this.startBufferEvery))},t}(),lr=function(t){function e(e,i,n){t.call(this,e),this.bufferSize=i,this.startBufferEvery=n,this.buffers=[],this.count=0}return u(e,t),e.prototype._next=function(t){var e=this.count++,i=this,n=i.destination,r=i.bufferSize,o=i.startBufferEvery,s=i.buffers,u=null==o?r:o;e%u===0&&s.push([]);for(var c=s.length;c--;){var a=s[c];a.push(t),a.length===r&&(s.splice(c,1),n.next(a))}},e.prototype._complete=function(){for(var e=this.destination,i=this.buffers;i.length>0;){var n=i.shift();n.length>0&&e.next(n)}t.prototype._complete.call(this)},e}(li);fi.prototype.bufferCount=rt;var hr=function(){function t(t,e,i,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=i,this.scheduler=n}return t.prototype.call=function(t,e){return e._subscribe(new fr(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),pr=function(){function t(){this.buffer=[]}return t}(),fr=function(t){function e(e,i,n,r,o){t.call(this,e),this.bufferTimeSpan=i,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=o,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){var u={subscriber:this,context:s,bufferTimeSpan:i};this.add(s.closeAction=o.schedule(st,i,u))}else{var c={subscriber:this,context:s},a={bufferTimeSpan:i,bufferCreationInterval:n,subscriber:this,scheduler:o};this.add(s.closeAction=o.schedule(ct,i,c)),this.add(o.schedule(ut,n,a))}}return u(e,t),e.prototype._next=function(t){for(var e,i=this.contexts,n=i.length,r=0;r<n;r++){var o=i[r],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,i=e.contexts,n=e.destination;i.length>0;){var r=i.shift();n.next(r.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var i=this.bufferTimeSpan,n={subscriber:this,context:t,bufferTimeSpan:i};this.add(t.closeAction=this.scheduler.schedule(st,i,n))}},e.prototype.openContext=function(){var t=new pr;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts,i=e?e.indexOf(t):-1;i>=0&&e.splice(e.indexOf(t),1)},e}(li);fi.prototype.bufferTime=ot;var dr=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new mr(t,this.openings,this.closingSelector))},t}(),mr=function(t){function e(e,i,n){t.call(this,e),this.openings=i,this.closingSelector=n,
this.contexts=[],this.add(y(this,i))}return u(e,t),e.prototype._next=function(t){for(var e=this.contexts,i=e.length,n=0;n<i;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var i=this.contexts;i.length>0;){var n=i.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var i=e.shift();this.destination.next(i.buffer),i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,i,n,r){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector,i=e.call(this,t);i&&this.trySubscribe(i)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var i=t.buffer,n=t.subscription;this.destination.next(i),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,i=[],n=new si,r={buffer:i,subscription:n};e.push(r);var o=y(this,t,r);!o||o.closed?this.closeBuffer(r):(o.context=r,this.add(o),n.add(o))},e}(ji);fi.prototype.bufferToggle=at;var br=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new yr(t,this.closingSelector))},t}(),yr=function(t){function e(e,i){t.call(this,e),this.closingSelector=i,this.subscribing=!1,this.openBuffer()}return u(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,i,n,r){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var i=o(this.closingSelector)();i===ri?this.error(ri.e):(t=new si,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(y(this,i)),this.subscribing=!1)},e}(ji);fi.prototype.bufferWhen=lt;var vr=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e._subscribe(new wr(t,this.selector,this.caught))},t}(),wr=function(t){function e(e,i,n){t.call(this,e),this.selector=i,this.caught=n}return u(e,t),e.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void this.destination.error(t)}this.unsubscribe(),this.destination.remove(this),y(this,e)}},e}(ji);fi.prototype.catch=ht,fi.prototype._catch=ht,fi.prototype.combineAll=pt,fi.prototype.combineLatest=v,fi.prototype.concat=x,fi.prototype.concatAll=ft;var gr=function(){function t(t,e,i){void 0===i&&(i=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=i}return t.prototype.call=function(t,e){return e._subscribe(new xr(t,this.project,this.resultSelector,this.concurrent))},t}(),xr=function(t){function e(e,i,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this,e),this.project=i,this.resultSelector=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return u(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,i=this.index++;try{e=this.project(t,i)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,i)},e.prototype._innerSub=function(t,e,i){this.add(y(this,t,e,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,i,n,r){this.resultSelector?this._notifyResultSelector(t,e,i,n):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,i,n){var r;try{r=this.resultSelector(t,e,i,n)}catch(t){return void this.destination.error(t)}this.destination.next(r)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(ji);fi.prototype.concatMap=mt;var _r=function(){function t(t,e,i){void 0===i&&(i=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=i}return t.prototype.call=function(t,e){return e._subscribe(new Sr(t,this.ish,this.resultSelector,this.concurrent))},t}(),Sr=function(t){function e(e,i,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=i,this.resultSelector=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return u(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,i=this.index++,n=this.ish,r=this.destination;this.active++,this._innerSub(n,r,e,t,i)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,i,n,r){this.add(y(this,t,n,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,i,n,r){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,i,n):u.next(e)},e.prototype.trySelectResult=function(t,e,i,n){var r,o=this,s=o.resultSelector,u=o.destination;try{r=s(t,e,i,n)}catch(t){return void u.error(t)}u.next(r)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(ji);fi.prototype.concatMapTo=yt;var Tr=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new Or(t,this.predicate,this.source))},t}(),Or=function(t){function e(e,i,n){t.call(this,e),this.predicate=i,this.source=n,this.count=0,this.index=0}return u(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(li);fi.prototype.count=vt;var Er=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new jr(t))},t}(),jr=function(t){function e(e){t.call(this,e)}return u(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(li);fi.prototype.dematerialize=wt;var Ir=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new Cr(t,this.durationSelector))},t}(),Cr=function(t){function e(e,i){t.call(this,e),this.durationSelector=i,this.hasValue=!1,this.durationSubscription=null}return u(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=y(this,e),i.closed||this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(t,e,i,n,r){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,i=this.durationSubscription;i&&(this.durationSubscription=null,i.unsubscribe(),this.remove(i)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(ji);fi.prototype.debounce=gt;var kr=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new Nr(t,this.dueTime,this.scheduler))},t}(),Nr=function(t){function e(e,i,n){t.call(this,e),this.dueTime=i,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return u(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_t,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(li);fi.prototype.debounceTime=xt;var Pr=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e._subscribe(new Ar(t,this.defaultValue))},t}(),Ar=function(t){function e(e,i){t.call(this,e),this.defaultValue=i,this.isEmpty=!0}return u(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(li);fi.prototype.defaultIfEmpty=St;var Vr=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new Fr(t,this.delay,this.scheduler))},t}(),Fr=function(t){function e(e,i,n){t.call(this,e),this.delay=i,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return u(e,t),e.dispatch=function(t){for(var e=t.source,i=e.queue,n=t.scheduler,r=t.destination;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(r);if(i.length>0){var o=Math.max(0,i[0].time-n.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var e=this.scheduler,i=new Rr(e.now()+this.delay,t);this.queue.push(i),this.active===!1&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(Xi.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(Xi.createComplete())},e}(li),Rr=function(){function t(t,e){this.time=t,this.notification=e}return t}();fi.prototype.delay=Tt;var Mr=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new zr(t,this.delayDurationSelector))},t}(),zr=function(t){function e(e,i){t.call(this,e),this.delayDurationSelector=i,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return u(e,t),e.prototype.notifyNext=function(t,e,i,n,r){this.destination.next(t),this.removeSubscription(r),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),i=null;return e!==-1&&(i=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),i},e.prototype.tryDelay=function(t,e){var i=y(this,t,e);this.add(i),this.delayNotifierSubscriptions.push(i),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(ji),qr=function(t){function e(e,i){t.call(this),this.source=e,this.subscriptionDelay=i}return u(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new Ur(t,this.source))},e}(fi),Ur=function(t){function e(e,i){t.call(this),this.parent=e,this.source=i,this.sourceSubscribed=!1}return u(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(li);fi.prototype.delayWhen=Ot;var Lr=ei.Set||Et(),Br=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e._subscribe(new Yr(t,this.keySelector,this.flushes))},t}(),Yr=function(t){function e(e,i,n){t.call(this,e),this.keySelector=i,this.values=new Lr,n&&this.add(y(this,n))}return u(e,t),e.prototype.notifyNext=function(t,e,i,n,r){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,i=this.destination;try{e=this.keySelector(t)}catch(t){return void i.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var i=this.values;i.has(t)||(i.add(t),this.destination.next(e))},e}(ji);fi.prototype.distinct=jt;var Dr=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e._subscribe(new Wr(t,this.compare,this.keySelector))},t}(),Wr=function(t){function e(e,i,n){t.call(this,e),this.keySelector=n,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}return u(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,i=t;if(e&&(i=o(this.keySelector)(t),i===ri))return this.destination.error(ri.e);var n=!1;if(this.hasKey){if(n=o(this.compare)(this.key,i),n===ri)return this.destination.error(ri.e)}else this.hasKey=!0;Boolean(n)===!1&&(this.key=i,this.destination.next(t))},e}(li);fi.prototype.distinctUntilChanged=It,fi.prototype.distinctUntilKeyChanged=Ct;var Hr=function(){function t(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}return t.prototype.call=function(t,e){return e._subscribe(new Gr(t,this.nextOrObserver,this.error,this.complete))},t}(),Gr=function(t){function e(e,i,n,r){t.call(this,e);var o=new li(i,n,r);o.syncErrorThrowable=!0,this.add(o),this.safeSubscriber=o}return u(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(li);fi.prototype.do=kt,fi.prototype._do=kt;var Jr=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new Xr(t))},t}(),Xr=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return u(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(y(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ji);fi.prototype.exhaust=Nt;var $r=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new Kr(t,this.project,this.resultSelector))},t}(),Kr=function(t){function e(e,i,n){t.call(this,e),this.project=i,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return u(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,i=this.destination;try{var n=this.project(t,e);this.hasSubscription=!0,this.add(y(this,n,t,e))}catch(t){i.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,i,n,r){var o=this,s=o.resultSelector,u=o.destination;s?this.trySelectResult(t,e,i,n):u.next(e)},e.prototype.trySelectResult=function(t,e,i,n){var r=this,o=r.resultSelector,s=r.destination;try{var u=o(t,e,i,n);s.next(u)}catch(t){s.error(t)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ji);fi.prototype.exhaustMap=Pt;var Qr=function(){function t(t,e,i){this.project=t,this.concurrent=e,this.scheduler=i}return t.prototype.call=function(t,e){return e._subscribe(new Zr(t,this.project,this.concurrent,this.scheduler))},t}(),Zr=function(t){function e(e,i,n,r){t.call(this,e),this.project=i,this.concurrent=n,this.scheduler=r,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return u(e,t),e.dispatch=function(t){var e=t.subscriber,i=t.result,n=t.value,r=t.index;e.subscribeToProjection(i,n,r)},e.prototype._next=function(t){var i=this.destination;if(i.closed)return void this._complete();var n=this.index++;if(this.active<this.concurrent){i.next(t);var r=o(this.project)(t,n);if(r===ri)i.error(ri.e);else if(this.scheduler){var s={subscriber:this,result:r,value:t,index:n};this.add(this.scheduler.schedule(e.dispatch,0,s))}else this.subscribeToProjection(r,t,n)}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,i){this.active++,this.add(y(this,t,e,i))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,i,n,r){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(ji);fi.prototype.expand=At;var to=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return u(e,t),e}(Error),eo=function(){function t(t,e){if(this.index=t,this.defaultValue=e,t<0)throw new to}return t.prototype.call=function(t,e){return e._subscribe(new io(t,this.index,this.defaultValue))},t}(),io=function(t){function e(e,i,n){t.call(this,e),this.index=i,this.defaultValue=n}return u(e,t),e.prototype._next=function(t){0===this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?t.next(this.defaultValue):t.error(new to)),t.complete()},e}(li);fi.prototype.elementAt=Vt;var no=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e._subscribe(new ro(t,this.predicate,this.thisArg))},t}(),ro=function(t){function e(e,i,n){t.call(this,e),this.predicate=i,this.thisArg=n,this.count=0,this.predicate=i}return u(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(li);fi.prototype.filter=Ft;var oo=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e._subscribe(new so(t,this.callback))},t}(),so=function(t){function e(e,i){t.call(this,e),this.add(new si(i))}return u(e,t),e}(li);fi.prototype.finally=Rt,fi.prototype._finally=Rt;var uo=function(){function t(t,e,i,n){this.predicate=t,this.source=e,this.yieldIndex=i,this.thisArg=n}return t.prototype.call=function(t,e){return e._subscribe(new co(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),co=function(t){function e(e,i,n,r,o){t.call(this,e),this.predicate=i,this.source=n,this.yieldIndex=r,this.thisArg=o,this.index=0}return u(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this,i=e.predicate,n=e.thisArg,r=this.index++;try{var o=i.call(n||this,t,r,this.source);o&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(li);fi.prototype.find=Mt,fi.prototype.findIndex=zt;var ao=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return u(e,t),e}(Error),lo=function(){function t(t,e,i,n){this.predicate=t,this.resultSelector=e,this.defaultValue=i,this.source=n}return t.prototype.call=function(t,e){return e._subscribe(new ho(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),ho=function(t){function e(e,i,n,r,o){t.call(this,e),this.predicate=i,this.resultSelector=n,this.defaultValue=r,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return u(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var i;try{i=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}i&&this._emit(t,e)},e.prototype._emit=function(t,e){return this.resultSelector?void this._tryResultSelector(t,e):void this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var i;try{i=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(i)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new ao):(t.next(this.defaultValue),t.complete())},e}(li);fi.prototype.first=qt;var po=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return e===-1?void 0:this._values[e]},t.prototype.set=function(t,e){var i=this._keys.indexOf(t);return i===-1?(this._keys.push(t),this._values.push(e),this.size++):this._values[i]=e,this},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return e!==-1&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var i=0;i<this.size;i++)t.call(e,this._values[i],this._keys[i])},t}(),fo=ei.Map||function(){return po}(),mo=function(){function t(){this.values={}}return t.prototype.delete=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var i=this.values;for(var n in i)i.hasOwnProperty(n)&&null!==i[n]&&t.call(e,i[n],n)},t.prototype.clear=function(){this.values={}},t}(),bo=function(){function t(t,e,i,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=i,this.subjectSelector=n}return t.prototype.call=function(t,e){return e._subscribe(new yo(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),yo=function(t){function e(e,i,n,r,o){t.call(this,e),this.keySelector=i,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return u(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var i=this.groups;i||(i=this.groups="string"==typeof e?new mo:new fo);var n,r=i.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!r){r=this.subjectSelector?this.subjectSelector():new yi,i.set(e,r);var o=new wo(e,r,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new wo(e,r))}catch(t){return void this.error(t)}this.add(s.subscribe(new vo(e,r,this)))}}r.closed||r.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,i){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(li),vo=function(t){function e(e,i,n){t.call(this),this.key=e,this.group=i,this.parent=n}return u(e,t),e.prototype._next=function(t){this._complete()},e.prototype._error=function(t){var e=this.group;e.closed||e.error(t),this.parent.removeGroup(this.key)},e.prototype._complete=function(){var t=this.group;t.closed||t.complete(),this.parent.removeGroup(this.key)},e}(li),wo=function(t){function e(e,i,n){t.call(this),this.key=e,this.groupSubject=i,this.refCountSubscription=n}return u(e,t),e.prototype._subscribe=function(t){var e=new si,i=this,n=i.refCountSubscription,r=i.groupSubject;return n&&!n.closed&&e.add(new go(n)),e.add(r.subscribe(t)),e},e}(fi),go=function(t){function e(e){t.call(this),this.parent=e,e.count++}return u(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(si);fi.prototype.groupBy=Ut;var xo=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new _o(t))},t}(),_o=function(t){function e(){t.apply(this,arguments)}return u(e,t),e.prototype._next=function(t){U()},e}(li);fi.prototype.ignoreElements=Lt;var So=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new To(t))},t}(),To=function(t){function e(e){t.call(this,e)}return u(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(li);fi.prototype.isEmpty=Bt;var Oo=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new Eo(t,this.durationSelector))},t}(),Eo=function(t){function e(e,i){t.call(this,e),this.durationSelector=i,this.hasValue=!1}return u(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=o(this.durationSelector)(t);e===ri?this.destination.error(ri.e):this.add(this.throttled=y(this,e))}},e.prototype.clearThrottle=function(){var t=this,e=t.value,i=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),i&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,i,n){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(ji);fi.prototype.audit=Yt;var jo=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new Io(t,this.duration,this.scheduler))},t}(),Io=function(t){function e(e,i,n){t.call(this,e),this.duration=i,this.scheduler=n,this.hasValue=!1}return u(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(Wt,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,i=t.hasValue,n=t.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),i&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(li);fi.prototype.auditTime=Dt;var Co=function(){function t(t,e,i,n){this.predicate=t,this.resultSelector=e,this.defaultValue=i,this.source=n}return t.prototype.call=function(t,e){return e._subscribe(new ko(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),ko=function(t){function e(e,i,n,r,o){t.call(this,e),this.predicate=i,this.resultSelector=n,this.defaultValue=r,this.source=o,this.hasValue=!1,this.index=0,"undefined"!=typeof r&&(this.lastValue=r,this.hasValue=!0)}return u(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var i;try{i=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(i){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var i;try{i=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=i,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new ao)},e}(li);fi.prototype.last=Ht,fi.prototype.let=Gt,fi.prototype.letBind=Gt;var No=function(){function t(t,e,i){this.predicate=t,this.thisArg=e,this.source=i}return t.prototype.call=function(t,e){return e._subscribe(new Po(t,this.predicate,this.thisArg,this.source))},t}(),Po=function(t){function e(e,i,n,r){t.call(this,e),this.predicate=i,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}return u(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(li);fi.prototype.every=Jt,fi.prototype.map=G;var Ao=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e._subscribe(new Vo(t,this.value))},t}(),Vo=function(t){function e(e,i){t.call(this,e),this.value=i}return u(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(li);fi.prototype.mapTo=Xt;var Fo=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new Ro(t))},t}(),Ro=function(t){function e(e){t.call(this,e)}return u(e,t),e.prototype._next=function(t){this.destination.next(Xi.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(Xi.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(Xi.createComplete()),t.complete()},e}(li);fi.prototype.materialize=$t;var Mo=function(){function t(t,e,i){void 0===i&&(i=!1),this.accumulator=t,this.seed=e,this.hasSeed=i}return t.prototype.call=function(t,e){return e._subscribe(new zo(t,this.accumulator,this.seed,this.hasSeed))},t}(),zo=function(t){function e(e,i,n,r){t.call(this,e),this.accumulator=i,this.hasSeed=r,this.hasValue=!1,this.acc=n}return u(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(li);fi.prototype.max=Qt,fi.prototype.merge=R,fi.prototype.mergeAll=g,fi.prototype.mergeMap=dt,fi.prototype.flatMap=dt,fi.prototype.flatMapTo=bt,fi.prototype.mergeMapTo=bt;var qo=function(){function t(t,e,i){this.project=t,this.seed=e,this.concurrent=i}return t.prototype.call=function(t,e){return e._subscribe(new Uo(t,this.project,this.seed,this.concurrent))},t}(),Uo=function(t){function e(e,i,n,r){t.call(this,e),this.project=i,this.acc=n,this.concurrent=r,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return u(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,i=o(this.project)(this.acc,t),n=this.destination;i===ri?n.error(ri.e):(this.active++,this._innerSub(i,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,i){this.add(y(this,t,e,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,i,n,r){var o=this.destination;this.acc=e,
this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(ji);fi.prototype.mergeScan=Zt,fi.prototype.min=te;var Lo=function(t){function e(e,i){t.call(this),this.source=e,this.subjectFactory=i,this._refCount=0}return u(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(t=this._connection=new si,t.add(this.source.subscribe(new Yo(this.getSubject(),this))),t.closed?(this._connection=null,t=si.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new Do(this))},e}(fi),Bo={operator:{value:null},_refCount:{value:0,writable:!0},_subscribe:{value:Lo.prototype._subscribe},getSubject:{value:Lo.prototype.getSubject},connect:{value:Lo.prototype.connect},refCount:{value:Lo.prototype.refCount}},Yo=function(t){function e(e,i){t.call(this,e),this.connectable=i}return u(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(bi),Do=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var i=this.connectable;i._refCount++;var n=new Wo(t,i),r=e._subscribe(n);return n.closed||(n.connection=i.connect()),r},t}(),Wo=function(t){function e(e,i){t.call(this,e),this.connectable=i}return u(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var i=this.connection,n=t._connection;this.connection=null,!n||i&&n!==i||n.unsubscribe()},e}(li),Ho=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var i=this.selector,n=this.subjectFactory(),r=i(n).subscribe(t);return r.add(e._subscribe(n)),r},t}();fi.prototype.multicast=ee,fi.prototype.observeOn=C,fi.prototype.onErrorResumeNext=L;var Go=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new Jo(t))},t}(),Jo=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return u(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(li);fi.prototype.pairwise=ie,fi.prototype.partition=re,fi.prototype.pluck=oe,fi.prototype.publish=ue;var Xo=function(t){function e(e){t.call(this),this._value=e}return u(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var i=t.prototype._subscribe.call(this,e);return i&&!i.closed&&e.next(this._value),i},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new di;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(yi);fi.prototype.publishBehavior=ce,fi.prototype.publishReplay=ae,fi.prototype.publishLast=le,fi.prototype.race=z,fi.prototype.reduce=Kt;var $o=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new Ko(t,this.count,this.source))},t}(),Ko=function(t){function e(e,i,n){t.call(this,e),this.count=i,this.source=n}return u(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,i=e.source,n=e.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,i.subscribe(this)}},e}(li);fi.prototype.repeat=he;var Qo=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new Zo(t,this.notifier,this.source))},t}(),Zo=function(t){function e(e,i,n){t.call(this,e),this.notifier=i,this.source=n}return u(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.notifications,i=this.retries,n=this.retriesSubscription;if(i)this.notifications=null,this.retriesSubscription=null;else{if(e=new yi,i=o(this.notifier)(e),i===ri)return t.prototype.complete.call(this);n=y(this,i)}this.unsubscribe(),this.closed=!1,this.notifications=e,this.retries=i,this.retriesSubscription=n,e.next()}},e.prototype._unsubscribe=function(){var t=this,e=t.notifications,i=t.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),i&&(i.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,i,n,r){var o=this,s=o.notifications,u=o.retries,c=o.retriesSubscription;this.notifications=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.notifications=s,this.retries=u,this.retriesSubscription=c,this.source.subscribe(this)},e}(ji);fi.prototype.repeatWhen=pe;var ts=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new es(t,this.count,this.source))},t}(),es=function(t){function e(e,i,n){t.call(this,e),this.count=i,this.source=n}return u(e,t),e.prototype.error=function(e){if(!this.isStopped){var i=this,n=i.source,r=i.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,n.subscribe(this)}},e}(li);fi.prototype.retry=fe;var is=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new ns(t,this.notifier,this.source))},t}(),ns=function(t){function e(e,i,n){t.call(this,e),this.notifier=i,this.source=n}return u(e,t),e.prototype.error=function(e){if(!this.isStopped){var i=this.errors,n=this.retries,r=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(i=new yi,n=o(this.notifier)(i),n===ri)return t.prototype.error.call(this,ri.e);r=y(this,n)}this.unsubscribe(),this.closed=!1,this.errors=i,this.retries=n,this.retriesSubscription=r,i.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,i=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),i&&(i.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,i,n,r){var o=this,s=o.errors,u=o.retries,c=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.errors=s,this.retries=u,this.retriesSubscription=c,this.source.subscribe(this)},e}(ji);fi.prototype.retryWhen=de;var rs=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var i=new os(t),n=e._subscribe(i);return n.add(y(i,this.notifier)),n},t}(),os=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return u(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,i,n,r){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(ji);fi.prototype.sample=me;var ss=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new us(t,this.period,this.scheduler))},t}(),us=function(t){function e(e,i,n){t.call(this,e),this.period=i,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(ye,i,{subscriber:this,period:i}))}return u(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(li);fi.prototype.sampleTime=be;var cs=function(){function t(t,e,i){void 0===i&&(i=!1),this.accumulator=t,this.seed=e,this.hasSeed=i}return t.prototype.call=function(t,e){return e._subscribe(new as(t,this.accumulator,this.seed,this.hasSeed))},t}(),as=function(t){function e(e,i,n,r){t.call(this,e),this.accumulator=i,this._seed=n,this.hasSeed=r,this.index=0}return u(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){return this.hasSeed?this._tryNext(t):(this.seed=t,void this.destination.next(t))},e.prototype._tryNext=function(t){var e,i=this.index++;try{e=this.accumulator(this.seed,t,i)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(li);fi.prototype.scan=ve;var ls=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e._subscribe(new hs(t,this.compareTo,this.comparor))},t}(),hs=function(t){function e(e,i,n){t.call(this,e),this.compareTo=i,this.comparor=n,this._a=[],this._b=[],this._oneComplete=!1,this.add(i.subscribe(new ps(e,this)))}return u(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this,e=t._a,i=t._b,n=t.comparor;e.length>0&&i.length>0;){var r=e.shift(),s=i.shift(),u=!1;n?(u=o(n)(r,s),u===ri&&this.destination.error(ri.e)):u=r===s,u||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(li),ps=function(t){function e(e,i){t.call(this,e),this.parent=i}return u(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(li);fi.prototype.sequenceEqual=we,fi.prototype.share=xe;var fs=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e._subscribe(new ds(t,this.predicate,this.source))},t}(),ds=function(t){function e(e,i,n){t.call(this,e),this.predicate=i,this.source=n,this.seenValue=!1,this.index=0}return u(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.predicate;this.index++,e?this.tryNext(t):this.applySingleValue(t)},e.prototype.tryNext=function(t){try{var e=this.predicate(t,this.index,this.source);e&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new ao)},e}(li);fi.prototype.single=_e;var ms=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e._subscribe(new bs(t,this.total))},t}(),bs=function(t){function e(e,i){t.call(this,e),this.total=i,this.count=0}return u(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(li);fi.prototype.skip=Se;var ys=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new vs(t,this.notifier))},t}(),vs=function(t){function e(e,i){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(y(this,i))}return u(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,i,n,r){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(ji);fi.prototype.skipUntil=Te;var ws=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new gs(t,this.predicate))},t}(),gs=function(t){function e(e,i){t.call(this,e),this.predicate=i,this.skipping=!0,this.index=0}return u(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(li);fi.prototype.skipWhile=Oe,fi.prototype.startWith=Ee;var xs=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var e=function t(e){delete t.instance.tasksByHandle[e]};e.instance=this,this.clearImmediate=e}}return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=function t(){var e=t,i=e.handler,n=e.args;"function"==typeof i?i.apply(void 0,n):new Function(""+i)()};return n.handler=t,n.args=e,n},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function t(){var e=t.instance,i=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,i)),i};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){var t=this.root,e="setImmediate$"+t.Math.random()+"$",i=function i(n){var r=i.instance;n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&r.runIfPresent(+n.data.slice(e.length))};i.instance=this,t.addEventListener("message",i,!1);var n=function t(){var e=t,i=e.messagePrefix,n=e.instance,r=n.addFromSetImmediateArguments(arguments);return n.root.postMessage(i+r,"*"),r};return n.instance=this,n.messagePrefix=e,n},t.prototype.runIfPresent=function(t){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var i=e.data;t.runIfPresent(i)};var i=function t(){var e=t,i=e.channel,n=e.instance,r=n.addFromSetImmediateArguments(arguments);return i.port2.postMessage(r),r};return i.channel=e,i.instance=this,i},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function t(){var e=t.instance,i=e.root,n=i.document,r=n.documentElement,o=e.addFromSetImmediateArguments(arguments),s=n.createElement("script");return s.onreadystatechange=function(){e.runIfPresent(o),s.onreadystatechange=null,r.removeChild(s),s=null},r.appendChild(s),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function t(){var e=t.instance,i=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,i),0),i};return t.instance=this,t},t}(),_s=new xs(ei),Ss=function(t){function e(e,i){t.call(this,e,i),this.scheduler=e,this.work=i}return u(e,t),e.prototype.requestAsyncId=function(e,i,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,i,n):(e.actions.push(this),e.scheduled||(e.scheduled=_s.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,i,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.recycleAsyncId.call(this,e,i,n):void(0===e.actions.length&&(_s.clearImmediate(i),e.scheduled=void 0))},e}(dn),Ts=function(t){function e(){t.apply(this,arguments)}return u(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,i=this.actions,n=-1,r=i.length;t=t||i.shift();do if(e=t.execute(t.state,t.delay))break;while(++n<r&&(t=i.shift()));if(this.active=!1,e){for(;++n<r&&(t=i.shift());)t.unsubscribe();throw e}},e}(bn),Os=new Ts(Ss),Es=function(t){function e(e,i,n){void 0===i&&(i=0),void 0===n&&(n=Os),t.call(this),this.source=e,this.delayTime=i,this.scheduler=n,(!F(i)||i<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Os)}return u(e,t),e.create=function(t,i,n){return void 0===i&&(i=0),void 0===n&&(n=Os),new e(t,i,n)},e.dispatch=function(t){var e=t.source,i=t.subscriber;return e.subscribe(i)},e.prototype._subscribe=function(t){var i=this.delayTime,n=this.source,r=this.scheduler;return r.schedule(e.dispatch,i,{source:n,subscriber:t})},e}(fi);fi.prototype.subscribeOn=je;var js=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new Is(t))},t}(),Is=function(t){function e(e){t.call(this,e),this.active=0,this.hasCompleted=!1}return u(e,t),e.prototype._next=function(t){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=y(this,t))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},e.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var t=this.innerSubscription;t&&(t.unsubscribe(),this.remove(t))},e.prototype.notifyNext=function(t,e,i,n,r){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(ji);fi.prototype.switch=Ie,fi.prototype._switch=Ie;var Cs=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new ks(t,this.project,this.resultSelector))},t}(),ks=function(t){function e(e,i,n){t.call(this,e),this.project=i,this.resultSelector=n,this.index=0}return u(e,t),e.prototype._next=function(t){var e,i=this.index++;try{e=this.project(t,i)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,i)},e.prototype._innerSub=function(t,e,i){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=y(this,t,e,i))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,i,n,r){this.resultSelector?this._tryNotifyNext(t,e,i,n):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,i,n){var r;try{r=this.resultSelector(t,e,i,n)}catch(t){return void this.destination.error(t)}this.destination.next(r)},e}(ji);fi.prototype.switchMap=Ce;var Ns=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new Ps(t,this.observable,this.resultSelector))},t}(),Ps=function(t){function e(e,i,n){t.call(this,e),this.inner=i,this.resultSelector=n,this.index=0}return u(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=y(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,i,n,r){var o=this,s=o.resultSelector,u=o.destination;s?this.tryResultSelector(t,e,i,n):u.next(e)},e.prototype.tryResultSelector=function(t,e,i,n){var r,o=this,s=o.resultSelector,u=o.destination;try{r=s(t,e,i,n)}catch(t){return void u.error(t)}u.next(r)},e}(ji);fi.prototype.switchMapTo=ke;var As=function(){function t(t){if(this.total=t,this.total<0)throw new to}return t.prototype.call=function(t,e){return e._subscribe(new Vs(t,this.total))},t}(),Vs=function(t){function e(e,i){t.call(this,e),this.total=i,this.count=0}return u(e,t),e.prototype._next=function(t){var e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))},e}(li);fi.prototype.take=Ne;var Fs=function(){function t(t){if(this.total=t,this.total<0)throw new to}return t.prototype.call=function(t,e){return e._subscribe(new Rs(t,this.total))},t}(),Rs=function(t){function e(e,i){t.call(this,e),this.total=i,this.ring=new Array,this.count=0}return u(e,t),e.prototype._next=function(t){var e=this.ring,i=this.total,n=this.count++;if(e.length<i)e.push(t);else{var r=n%i;e[r]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var i=this.count>=this.total?this.total:this.count,n=this.ring,r=0;r<i;r++){var o=e++%i;t.next(n[o])}t.complete()},e}(li);fi.prototype.takeLast=Pe;var Ms=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e._subscribe(new zs(t,this.notifier))},t}(),zs=function(t){function e(e,i){t.call(this,e),this.notifier=i,this.add(y(this,i))}return u(e,t),e.prototype.notifyNext=function(t,e,i,n,r){this.complete()},e.prototype.notifyComplete=function(){},e}(ji);fi.prototype.takeUntil=Ae;var qs=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e._subscribe(new Us(t,this.predicate))},t}(),Us=function(t){function e(e,i){t.call(this,e),this.predicate=i,this.index=0}return u(e,t),e.prototype._next=function(t){var e,i=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void i.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var i=this.destination;Boolean(e)?i.next(t):i.complete()},e}(li);fi.prototype.takeWhile=Ve;var Ls=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new Bs(t,this.durationSelector))},t}(),Bs=function(t){function e(e,i){t.call(this,e),this.destination=e,this.durationSelector=i}return u(e,t),e.prototype._next=function(t){this.throttled||this.tryDurationSelector(t)},e.prototype.tryDurationSelector=function(t){var e=null;try{e=this.durationSelector(t)}catch(t){return void this.destination.error(t)}this.emitAndThrottle(t,e)},e.prototype.emitAndThrottle=function(t,e){this.add(this.throttled=y(this,e)),this.destination.next(t)},e.prototype._unsubscribe=function(){var t=this.throttled;t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype.notifyNext=function(t,e,i,n,r){this._unsubscribe()},e.prototype.notifyComplete=function(){this._unsubscribe()},e}(ji);fi.prototype.throttle=Fe;var Ys=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e._subscribe(new Ds(t,this.duration,this.scheduler))},t}(),Ds=function(t){function e(e,i,n){t.call(this,e),this.duration=i,this.scheduler=n}return u(e,t),e.prototype._next=function(t){this.throttled||(this.add(this.throttled=this.scheduler.schedule(Me,this.duration,{subscriber:this})),this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(t.unsubscribe(),this.remove(t),this.throttled=null)},e}(li);fi.prototype.throttleTime=Re;var Ws=function(){function t(t,e){this.value=t,this.interval=e}return t}(),Hs=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e._subscribe(new Gs(t,this.scheduler))},t}(),Gs=function(t){function e(e,i){t.call(this,e),this.scheduler=i,this.lastTime=0,this.lastTime=i.now()}return u(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),i=e-this.lastTime;this.lastTime=e,this.destination.next(new Ws(t,i))},e}(li);fi.prototype.timeInterval=ze;var Js=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return u(e,t),e}(Error),Xs=function(){function t(t,e,i,n){this.waitFor=t,this.absoluteTimeout=e,this.errorToSend=i,this.scheduler=n}return t.prototype.call=function(t,e){return e._subscribe(new $s(t,this.absoluteTimeout,this.waitFor,this.errorToSend,this.scheduler))},t}(),$s=function(t){function e(e,i,n,r,o){t.call(this,e),this.absoluteTimeout=i,this.waitFor=n,this.errorToSend=r,this.scheduler=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return u(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,i=t.index;e.hasCompleted||e.previousIndex!==i||e.notifyTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index;this.scheduler.schedule(e.dispatchTimeout,this.waitFor,{subscriber:this,index:t}),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.notifyTimeout=function(){this.error(this.errorToSend)},e}(li);fi.prototype.timeout=qe;var Ks=function(){function t(t,e,i,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=i,this.scheduler=n}return t.prototype.call=function(t,e){return e._subscribe(new Qs(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Qs=function(t){function e(e,i,n,r,o){t.call(this),this.destination=e,this.absoluteTimeout=i,this.waitFor=n,this.withObservable=r,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,e.add(this),this.scheduleTimeout()}return u(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,i=t.index;e.hasCompleted||e.previousIndex!==i||e.handleTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index,i={subscriber:this,index:t};this.scheduler.schedule(e.dispatchTimeout,this.waitFor,i),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.handleTimeout=function(){if(!this.closed){var t=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=y(this,t))}},e}(ji);fi.prototype.timeoutWith=Ue;var Zs=function(){function t(t,e){this.value=t,this.timestamp=e}return t}(),tu=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e._subscribe(new eu(t,this.scheduler))},t}(),eu=function(t){function e(e,i){t.call(this,e),this.scheduler=i}return u(e,t),e.prototype._next=function(t){var e=this.scheduler.now();this.destination.next(new Zs(t,e))},e}(li);fi.prototype.timestamp=Le;var iu=function(){function t(){}return t.prototype.call=function(t,e){return e._subscribe(new nu(t))},t}(),nu=function(t){function e(e){t.call(this,e),this.array=[]}return u(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(li);fi.prototype.toArray=Be,fi.prototype.toPromise=Ye;var ru=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var i=new ou(t),n=e._subscribe(i);return n.closed||i.add(y(i,this.windowBoundaries)),n},t}(),ou=function(t){function e(e){t.call(this,e),this.window=new yi,e.next(this.window)}return u(e,t),e.prototype.notifyNext=function(t,e,i,n,r){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,i=this.window=new yi;e.next(i)},e}(ji);fi.prototype.window=De;var su=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e._subscribe(new uu(t,this.windowSize,this.startWindowEvery))},t}(),uu=function(t){function e(e,i,n){t.call(this,e),this.destination=e,this.windowSize=i,this.startWindowEvery=n,this.windows=[new yi],this.count=0,e.next(this.windows[0])}return u(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,n=this.windowSize,r=this.windows,o=r.length,s=0;s<o&&!this.closed;s++)r[s].next(t);var u=this.count-n+1;if(u>=0&&u%e===0&&!this.closed&&r.shift().complete(),++this.count%e===0&&!this.closed){var c=new yi;r.push(c),i.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(li);fi.prototype.windowCount=We;var cu=function(){function t(t,e,i){this.windowTimeSpan=t,this.windowCreationInterval=e,this.scheduler=i}return t.prototype.call=function(t,e){return e._subscribe(new au(t,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},t}(),au=function(t){function e(e,i,n,r){if(t.call(this,e),this.destination=e,this.windowTimeSpan=i,this.windowCreationInterval=n,this.scheduler=r,this.windows=[],null!==n&&n>=0){var o=this.openWindow(),s={subscriber:this,window:o,context:null},u={windowTimeSpan:i,windowCreationInterval:n,subscriber:this,scheduler:r};this.add(r.schedule(Xe,i,s)),this.add(r.schedule(Je,n,u))}else{var c=this.openWindow(),a={subscriber:this,window:c,windowTimeSpan:i};this.add(r.schedule(Ge,i,a))}}return u(e,t),e.prototype._next=function(t){for(var e=this.windows,i=e.length,n=0;n<i;n++){var r=e[n];r.closed||r.next(t)}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new yi;this.windows.push(t);var e=this.destination;return e.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(li);fi.prototype.windowTime=He;var lu=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e._subscribe(new hu(t,this.openings,this.closingSelector))},t}(),hu=function(t){
function e(e,i,n){t.call(this,e),this.openings=i,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=y(this,i,i))}return u(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var i=e.length,n=0;n<i;n++)e[n].window.next(t)},e.prototype._error=function(e){var i=this.contexts;if(this.contexts=null,i)for(var n=i.length,r=-1;++r<n;){var o=i[r];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var i=e.length,n=-1;++n<i;){var r=e[n];r.window.complete(),r.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,i=-1;++i<e;){var n=t[i];n.window.unsubscribe(),n.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,i,n,r){if(t===this.openings){var s=this.closingSelector,u=o(s)(e);if(u===ri)return this.error(ri.e);var c=new yi,a=new si,l={window:c,subscription:a};this.contexts.push(l);var h=y(this,u,l);h.closed?this.closeWindow(this.contexts.length-1):(h.context=l,a.add(h)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var e=this.contexts,i=e[t],n=i.window,r=i.subscription;e.splice(t,1),n.complete(),r.unsubscribe()}},e}(ji);fi.prototype.windowToggle=$e;var pu=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e._subscribe(new fu(t,this.closingSelector))},t}(),fu=function(t){function e(e,i){t.call(this,e),this.destination=e,this.closingSelector=i,this.openWindow()}return u(e,t),e.prototype.notifyNext=function(t,e,i,n,r){this.openWindow(r)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var i=this.window=new yi;this.destination.next(i);var n=o(this.closingSelector)();if(n===ri){var r=ri.e;this.destination.error(r),this.window.error(r)}else this.add(this.closingNotification=y(this,n))},e}(ji);fi.prototype.windowWhen=Ke;var du=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e._subscribe(new mu(t,this.observables,this.project))},t}(),mu=function(t){function e(e,i,n){t.call(this,e),this.observables=i,this.project=n,this.toRespond=[];var r=i.length;this.values=new Array(r);for(var o=0;o<r;o++)this.toRespond.push(o);for(var o=0;o<r;o++){var s=i[o];this.add(y(this,s,s,o))}}return u(e,t),e.prototype.notifyNext=function(t,e,i,n,r){this.values[i]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(ji);fi.prototype.withLatestFrom=Qe,fi.prototype.zip=W,fi.prototype.zipAll=Ze;var bu=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e}return t}(),yu=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new bu(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,i=e[t];e[t]=new bu(i.subscribedFrame,this.scheduler.now())},t}(),vu=function(t){function e(e,i){t.call(this,function(t){var e=this,i=e.logSubscribedFrame();return t.add(new si(function(){e.logUnsubscribedFrame(i)})),e.scheduleMessages(t),t}),this.messages=e,this.subscriptions=[],this.scheduler=i}return u(e,t),e.prototype.scheduleMessages=function(t){for(var e=this.messages.length,i=0;i<e;i++){var n=this.messages[i];t.add(this.scheduler.schedule(function(t){var e=t.message,i=t.subscriber;e.notification.observe(i)},n.frame,{message:n,subscriber:t}))}},e}(fi);ti(vu,[yu]);var wu=function(t){function e(e,i){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=i}return u(e,t),e.prototype._subscribe=function(e){var i=this,n=i.logSubscribedFrame();return e.add(new si(function(){i.logUnsubscribedFrame(n)})),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){for(var t=this,e=t.messages.length,i=0;i<e;i++)!function(){var e=t.messages[i];t.scheduler.schedule(function(){e.notification.observe(t)},e.frame)}()},e}(yi);ti(wu,[yu]);var gu=function(t){function e(e,i){var n=this;void 0===e&&(e=xu),void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e,function(){return n.frame}),this.maxFrames=i,this.frame=0,this.index=-1}return u(e,t),e.prototype.flush=function(){for(var t,e,i=this,n=i.actions,r=i.maxFrames;(e=n.shift())&&(this.frame=e.delay)<=r&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(bn),xu=function(t){function e(e,i,n){void 0===n&&(n=e.index+=1),t.call(this,e,i),this.scheduler=e,this.work=i,this.index=n,this.index=e.index=n}return u(e,t),e.prototype.schedule=function(i,n){return void 0===n&&(n=0),this.id?this.add(new e(this.scheduler,this.work)).schedule(i,n):t.prototype.schedule.call(this,i,n)},e.prototype.requestAsyncId=function(t,i,n){void 0===n&&(n=0),this.delay=t.frame+n;var r=t.actions;return r.push(this),r.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,i){void 0===i&&(i=0)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(dn),_u=750,Su=function(t){function e(e){t.call(this,xu,_u),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return u(e,t),e.prototype.createTime=function(t){var i=t.indexOf("|");if(i===-1)throw new Error('marble diagram for time should have a completion marker "|"');return i*e.frameTimeFactor},e.prototype.createColdObservable=function(t,i,n){if(t.indexOf("^")!==-1)throw new Error('cold observable cannot have subscription offset "^"');if(t.indexOf("!")!==-1)throw new Error('cold observable cannot have unsubscription marker "!"');var r=e.parseMarbles(t,i,n),o=new vu(r,this);return this.coldObservables.push(o),o},e.prototype.createHotObservable=function(t,i,n){if(t.indexOf("!")!==-1)throw new Error('hot observable cannot have unsubscription marker "!"');var r=e.parseMarbles(t,i,n),o=new wu(r,this);return this.hotObservables.push(o),o},e.prototype.materializeInnerObservable=function(t,e){var i=this,n=[];return t.subscribe(function(t){n.push({frame:i.frame-e,notification:Xi.createNext(t)})},function(t){n.push({frame:i.frame-e,notification:Xi.createError(t)})},function(){n.push({frame:i.frame-e,notification:Xi.createComplete()})}),n},e.prototype.expectObservable=function(t,i){var n=this;void 0===i&&(i=null);var r,o=[],s={actual:o,ready:!1},u=e.parseMarblesAsSubscriptions(i).unsubscribedFrame;return this.schedule(function(){r=t.subscribe(function(t){var e=t;t instanceof fi&&(e=n.materializeInnerObservable(e,n.frame)),o.push({frame:n.frame,notification:Xi.createNext(e)})},function(t){o.push({frame:n.frame,notification:Xi.createError(t)})},function(){o.push({frame:n.frame,notification:Xi.createComplete()})})},0),u!==Number.POSITIVE_INFINITY&&this.schedule(function(){return r.unsubscribe()},u),this.flushTests.push(s),{toBe:function(t,i,n){s.ready=!0,s.expected=e.parseMarbles(t,i,n,!0)}}},e.prototype.expectSubscriptions=function(t){var i={actual:t,ready:!1};return this.flushTests.push(i),{toBe:function(t){var n="string"==typeof t?[t]:t;i.ready=!0,i.expected=n.map(function(t){return e.parseMarblesAsSubscriptions(t)})}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var i=this.flushTests.filter(function(t){return t.ready});i.length>0;){var n=i.shift();this.assertDeepEqual(n.actual,n.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new bu(Number.POSITIVE_INFINITY);for(var e=t.length,i=-1,n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=0;o<e;o++){var s=o*this.frameTimeFactor,u=t[o];switch(u){case"-":case" ":break;case"(":i=s;break;case")":i=-1;break;case"^":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=i>-1?i:s;break;case"!":if(r!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");r=i>-1?i:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+u+"'.")}}return r<0?new bu(n):new bu(n,r)},e.parseMarbles=function(t,e,i,n){if(void 0===n&&(n=!1),t.indexOf("!")!==-1)throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var r=t.length,o=[],s=t.indexOf("^"),u=s===-1?0:s*-this.frameTimeFactor,c="object"!=typeof e?function(t){return t}:function(t){return n&&e[t]instanceof vu?e[t].messages:e[t]},a=-1,l=0;l<r;l++){var h=l*this.frameTimeFactor+u,p=void 0,f=t[l];switch(f){case"-":case" ":break;case"(":a=h;break;case")":a=-1;break;case"|":p=Xi.createComplete();break;case"^":break;case"#":p=Xi.createError(i||"error");break;default:p=Xi.createNext(c(f))}p&&o.push({frame:a>-1?a:h,notification:p})}return o},e}(gu),Tu=function(){function t(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}return t}(),Ou=new Tu(ei),Eu=function(t){function e(e,i){t.call(this,e,i),this.scheduler=e,this.work=i}return u(e,t),e.prototype.requestAsyncId=function(e,i,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,i,n):(e.actions.push(this),e.scheduled||(e.scheduled=Ou.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,i,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.recycleAsyncId.call(this,e,i,n):void(0===e.actions.length&&(Ou.cancelAnimationFrame(i),e.scheduled=void 0))},e}(dn),ju=function(t){function e(){t.apply(this,arguments)}return u(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,i=this.actions,n=-1,r=i.length;t=t||i.shift();do if(e=t.execute(t.state,t.delay))break;while(++n<r&&(t=i.shift()));if(this.active=!1,e){for(;++n<r&&(t=i.shift());)t.unsubscribe();throw e}},e}(bn),Iu=new ju(Eu),Cu={asap:Os,queue:er,animationFrame:Iu,async:yn},ku={rxSubscriber:ai,observable:pi,iterator:Ii};t.Scheduler=Cu,t.Symbol=ku,t.Subject=yi,t.AnonymousSubject=vi,t.Observable=fi,t.Subscription=si,t.Subscriber=li,t.AsyncSubject=wi,t.ReplaySubject=ir,t.BehaviorSubject=Xo,t.ConnectableObservable=Lo,t.Notification=Xi,t.EmptyError=ao,t.ArgumentOutOfRangeError=to,t.ObjectUnsubscribedError=di,t.TimeoutError=Js,t.UnsubscriptionError=oi,t.TimeInterval=Ws,t.Timestamp=Zs,t.TestScheduler=Su,t.VirtualTimeScheduler=gu,t.AjaxResponse=Xn,t.AjaxError=$n,t.AjaxTimeoutError=Kn,Object.defineProperty(t,"__esModule",{value:!0})})}).call(e,function(){return this}(),i(3).clearImmediate,i(3).setImmediate)},function(t,e,i){(function(t,n){function r(t,e){this._id=t,this._clearFn=e}var o=i(4).nextTick,s=Function.prototype.apply,u=Array.prototype.slice,c={},a=0;e.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var i=a++,n=!(arguments.length<2)&&u.call(arguments,1);return c[i]=!0,o(function(){c[i]&&(n?t.apply(null,n):t.call(null),e.clearImmediate(i))}),i},e.clearImmediate="function"==typeof n?n:function(t){delete c[t]}}).call(e,i(3).setImmediate,i(3).clearImmediate)},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(l===setTimeout)return setTimeout(t,0);if((l===i||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){m&&f&&(m=!1,f.length?d=f.concat(d):b=-1,d.length&&u())}function u(){if(!m){var t=r(s);m=!0;for(var e=d.length;e;){for(f=d,d=[];++b<e;)f&&f[b].run();b=-1,e=d.length}f=null,m=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function a(){}var l,h,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:i}catch(t){l=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var f,d=[],m=!1,b=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new c(t,e)),1!==d.length||m||r(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=a,p.addListener=a,p.once=a,p.off=a,p.removeListener=a,p.removeAllListeners=a,p.emit=a,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=i(6),o=i(9),s=i(11),u=i(20),c=i(21),a=i(18),l=function(t){function e(e){t.call(this,e),this.destination=e}return n(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;var h=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(e,t),e.prototype[a.$$rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,i=e.length,n=e.slice(),r=0;r<i;r++)n[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,i=e.length,n=e.slice(),r=0;r<i;r++)n[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,i=t.slice(),n=0;n<e;n++)i[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._subscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new r.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(r.Observable);e.Subject=h;var p=function(t){function e(e,i){t.call(this),this.destination=e,this.source=i}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var e=this.source;return e?this.source.subscribe(t):s.Subscription.EMPTY},e}(h);e.AnonymousSubject=p},function(t,e,i){"use strict";var n=i(7),r=i(8),o=i(19),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var i=new t;return i.source=this,i.operator=e,i},t.prototype.subscribe=function(t,e,i){var n=this.operator,o=r.toSubscriber(t,e,i);if(n?n.call(o,this):o.add(this._subscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype.forEach=function(t,e){var i=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r=i.subscribe(function(e){if(r)try{t(e)}catch(t){n(t),r.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=s},function(t,e){(function(t){"use strict";if(e.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t,!e.root)throw new Error("RxJS could not find any global context (window, self, global)")}).call(e,function(){return this}())},function(t,e,i){"use strict";function n(t,e,i){if(t){if(t instanceof r.Subscriber)return t;if(t[o.$$rxSubscriber])return t[o.$$rxSubscriber]()}return t||e||i?new r.Subscriber(t,e,i):new r.Subscriber(s.empty)}var r=i(9),o=i(18),s=i(17);e.toSubscriber=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=i(10),o=i(11),s=i(17),u=i(18),c=function(t){function e(i,n,r){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!i){this.destination=s.empty;break}if("object"==typeof i){i instanceof e?(this.destination=i,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new a(this,i));break}default:this.syncErrorThrowable=!0,this.destination=new a(this,i,n,r)}}return n(e,t),e.prototype[u.$$rxSubscriber]=function(){return this},e.create=function(t,i,n){var r=new e(t,i,n);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(o.Subscription);e.Subscriber=c;var a=function(t){function e(e,i,n,o){t.call(this),this._parent=e;var s,u=this;r.isFunction(i)?s=i:i&&(u=i,s=i.next,n=i.error,o=i.complete,r.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this)),this._context=u,this._next=s,this._error=n,this._complete=o}return n(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,i){try{e.call(this._context,i)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(c)},function(t,e){"use strict";function i(t){return"function"==typeof t}e.isFunction=i},function(t,e,i){"use strict";var n=i(12),r=i(13),o=i(10),s=i(14),u=i(15),c=i(16),a=function(){function t(t){this.closed=!1,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){this.closed=!0;var i=this,a=i._unsubscribe,l=i._subscriptions;if(this._subscriptions=null,o.isFunction(a)){var h=s.tryCatch(a).call(this);h===u.errorObject&&(e=!0,(t=t||[]).push(u.errorObject.e))}if(n.isArray(l))for(var p=-1,f=l.length;++p<f;){var d=l[p];if(r.isObject(d)){var h=s.tryCatch(d.unsubscribe).call(d);if(h===u.errorObject){e=!0,t=t||[];var m=u.errorObject.e;m instanceof c.UnsubscriptionError?t=t.concat(m.errors):t.push(m)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var i=e;switch(typeof e){case"function":i=new t(e);case"object":if(i.closed||"function"!=typeof i.unsubscribe)break;this.closed?i.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(i);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return i},t.prototype.remove=function(e){if(null!=e&&e!==this&&e!==t.EMPTY){var i=this._subscriptions;if(i){var n=i.indexOf(e);n!==-1&&i.splice(n,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=a},function(t,e){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e){"use strict";function i(t){return null!=t&&"object"==typeof t}e.isObject=i},function(t,e,i){"use strict";function n(){try{return o.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function r(t){return o=t,n}var o,s=i(15);e.tryCatch=r},function(t,e){"use strict";e.errorObject={e:{}}},function(t,e){"use strict";var i=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=function(t){function e(e){t.call(this),this.errors=e;var i=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=i.name="UnsubscriptionError",this.stack=i.stack,this.message=i.message}return i(e,t),e}(Error);e.UnsubscriptionError=n},function(t,e){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,e,i){"use strict";var n=i(7),r=n.root.Symbol;e.$$rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber"},function(t,e,i){"use strict";function n(t){var e,i=t.Symbol;return"function"==typeof i?i.observable?e=i.observable:(e=i("observable"),i.observable=e):e="@@observable",e}var r=i(7);e.getSymbolObservable=n,e.$$observable=n(r.root)},function(t,e){"use strict";var i=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return i(e,t),e}(Error);e.ObjectUnsubscribedError=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=i(11),o=function(t){function e(e,i){t.call(this),this.subject=e,this.subscriber=i,this.closed=!1}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);i!==-1&&e.splice(i,1)}}},e}(r.Subscription);e.SubjectSubscription=o},function(t,e,i){"use strict";function n(t){var e=w(t,2),i=(e[0],e[1]);return i.code===P||" "===i.key||i.target&&"game"===i.target.id}function r(t){return B&&(t.code===A||t.key===A||t.target&&"game"===t.target.id)}function o(){V=document.getElementById("game"),V.height=9*V.width/16,F=V.getContext("2d")}function s(){o(),R=u(),L=j,B=!1,c()}function u(){return V.width/C}function c(){q=new _.Ground(V,R),U=new S.PointCounter(V,R),U.points=0,Y=new O.GameOverText(V,R),z=new x.MainCharacter(V,R),z.x=k*R,z.y=V.height-z.height-q.height+q.height/8,M=new g.Obstacle(V,R),h(M,V)}function a(){z.jump()}function l(t){z.moveToNextPosition(t.deltaTime)}function h(t,e){t.x=e.width,t.y=e.height-t.height-q.height+q.height/8}function p(){L<I&&(L+=.1)}function f(t){M.isOutOfCanvas()?Math.random()<N&&(h(M,V),T.obstacleRespawned.next()):M.moveToNextPosition(t.deltaTime,L)}function d(){var t=z.x+z.width/2>=M.x&&z.x<=M.x+M.width/2&&z.y+z.height/2>=M.y&&z.y<=M.y+M.height/2;t&&T.notifyGameOver.next()}function m(){U.increasePoints()}function b(){B=!0,z.setAction("death"),Y.show(),y()}function y(){v(),q.render(),M.render(),z.render(),U.render(),Y.render()}function v(){F.fillStyle="rgb(0, 117, 255)",F.fillRect(0,0,V.width,V.height)}Object.defineProperty(e,"__esModule",{value:!0}),e.SPACE_KEY=e.gameReset=e.mainCharacterJump=e.gameInput=e.gameLoop=e.initGame=e.gameOver=e.increaseLevel=e.render=e.checkGameOver=e.moveObstacles=e.moveMainCharacter=e.increasePointCounter=e.makeJumpMainCharacter=void 0;var w=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=i(23),x=i(26),_=i(28),S=i(30),T=i(1),O=i(32),E=i(2),j=2,I=5,C=400,k=20,N=.05,P="Space",A="Enter",V=void 0,F=void 0,R=void 0,M=void 0,z=void 0,q=void 0,U=void 0,L=void 0,B=void 0,Y=void 0,D=T.loop.filter(function(){return!B}),W=E.Observable.zip(D,T.input),H=W.filter(n),G=T.input.filter(r);e.makeJumpMainCharacter=a,e.increasePointCounter=m,e.moveMainCharacter=l,e.moveObstacles=f,e.checkGameOver=d,e.render=y,e.increaseLevel=p,e.gameOver=b,e.initGame=s,e.gameLoop=D,e.gameInput=W,e.mainCharacterJump=H,e.gameReset=G,e.SPACE_KEY=P},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Obstacle=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(24),c={width:72,height:47,image:i(25),frameSpeed:10,actions:{run:{length:3,y:0,auto:!0}},defaultAction:"run"},a=120;e.Obstacle=function(t){function e(t,i){n(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,105*i,70*i,c));return o.scale=i,o}return o(e,t),s(e,[{key:"isOutOfCanvas",value:function(){return this.x+this.width<0||this.x>this.canvas.width}},{key:"moveToNextPosition",value:function(t,e){this.move(-a*e*t*this.scale,0)}}]),e}(u.Sprite)},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Sprite=function(){function t(e,n,r,o){i(this,t),this.canvas=e,this.context=this.canvas.getContext("2d"),this.image=new Image,this.image.src=o.image,this.sourceOptions=o,this.width=n,this.defaultWidth=n,this.height=r,this.defaultHeight=r,this.setAction(o.defaultAction)}return n(t,[{key:"render",value:function(t,e){this.x=Math.floor(t)||this.x,this.y=Math.floor(e)||this.y,this.context.drawImage(this.image,this.currentFrame*this.sourceOptions.width,this.action.y,this.action.width||this.sourceOptions.width,this.action.height||this.sourceOptions.height,this.x,this.y,this.width,this.height),this.action.auto&&(this.currentCycle++,this.currentCycle>=this.sourceOptions.frameSpeed&&(this.currentCycle=0,this.currentFrame=(this.currentFrame+1)%this.action.length))}},{key:"move",value:function(t,e){this.x=this.x+Math.floor(t),this.y=this.y+Math.floor(e)}},{key:"setAction",value:function(t){this.action=this.sourceOptions.actions[t],this.currentCycle=0,this.currentFrame=0,this.action.width?this.width=this.action.width*this.scale:this.width=this.defaultWidth,this.action.height?this.height=this.action.height*this.scale:this.height=this.defaultHeight}}]),t}()},function(t,e,i){t.exports=i.p+"5451c94e5a490d1bfa64fad00ba5c4c1.png"},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{
value:!0}),e.MainCharacter=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(24),c=85,a={width:74,height:96,image:i(27),frameSpeed:10,actions:{jump:{length:3,y:203,auto:!1},run:{length:4,y:103,auto:!0},death:{length:1,y:0,auto:!1,width:92}},defaultAction:"run"};e.MainCharacter=function(t){function e(t,i){n(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,74*i,96*i,a));return o.scale=i,o}return o(e,t),s(e,[{key:"jump",value:function(){this.jumping||(this.jumping=!0,this.setAction("jump"),this.currentJumpHeight=0,this.currentDirection="up",this.initY=this.y)}},{key:"moveToNextPosition",value:function(t){if(this.jumping){var e=void 0;this.currentJumpHeight>=c*this.scale&&(this.currentDirection="down",this.currentFrame=2),"up"==this.currentDirection?(e=-200*t,this.currentJumpHeight>=20&&1!=this.currentFrame&&(this.currentFrame=1)):e=200*t,e=Math.floor(e)*this.scale,this.move(0,e),this.currentJumpHeight-=e,this.currentJumpHeight<=0&&(this.jumping=!1,this.setAction("run"),this.y=this.initY)}}}]),e}(u.Sprite)},function(t,e,i){t.exports=i.p+"c37d781ac105bb7de82950f32a77f01f.png"},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Ground=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(n)},c=i(24),a={width:24,height:40,image:i(29),frameSpeed:10,actions:{ground:{length:1,y:0,auto:!1}},defaultAction:"ground"};e.Ground=function(t){function e(t,i){n(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,24*i,40*i,a));return o.x=0,o.y=t.height-o.height,o.translate=0,o.scale=i,o}return o(e,t),s(e,[{key:"render",value:function(t,i){this.context.save(),this.context.translate(this.translate,0),this.translate=(this.translate-2*this.scale)%(48*this.scale);for(var n=0;n<20;n++)u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"render",this).call(this,1+this.width*n,this.y);this.context.restore()}}]),e}(c.Sprite)},function(t,e,i){t.exports=i.p+"5c753b465c9c0b5a69cc3e52fa40fdf9.png"},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PointCounter=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(n)},c=i(31);e.PointCounter=function(t){function e(t,i){n(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,20*i));return o.canvas=t,o.x=t.width-250*i,o.y=40*i,o.context=o.canvas.getContext("2d"),o.points=0,o.scale=i,o}return o(e,t),s(e,[{key:"increasePoints",value:function(){this.points+=100}},{key:"render",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"render",this).call(this,"Score: "+this.points.toString())}}]),e}(c.Text)},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Text=function(){function t(e,n){i(this,t),this.canvas=e,this.context=this.canvas.getContext("2d"),this.size=n}return n(t,[{key:"render",value:function(t){this.context.save(),this.context.beginPath(),this.context.fillStyle="white",this.context.shadowOffsetX=1,this.context.shadowOffsetY=1,this.context.shadowColor="black",this.context.font=this.size+'px "Press Start 2P"',this.context.fillText(t,this.x,this.y),this.context.closePath(),this.context.restore()}}]),t}()},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GameOverText=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(n)},c=i(31);e.GameOverText=function(t){function e(t,i){n(this,e);var o=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,11*i));return o.x=25*i,o.y=t.height/2,o.visible=!1,o}return o(e,t),s(e,[{key:"render",value:function(){this.visible&&u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"render",this).call(this,"Game Over! Press Enter to Retry")}},{key:"show",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}}]),e}(c.Text)},function(t,e,i){var n=i(34);"string"==typeof n&&(n=[[t.id,n,""]]);i(36)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(35)(),e.push([t.id,"/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:not-allowed}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}.foundation-mq{font-family:\"small=0em&medium=40em&large=64em&xlarge=75em&xxlarge=90em\"}html{font-size:100%;box-sizing:border-box}*,:after,:before{box-sizing:inherit}body{padding:0;margin:0;font-family:Helvetica Neue,Helvetica,Roboto,Arial,sans-serif;font-weight:400;line-height:1.5;color:#0a0a0a;background:#fefefe;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}img{max-width:100%;height:auto;-ms-interpolation-mode:bicubic;display:inline-block;vertical-align:middle}textarea{height:auto;min-height:50px;border-radius:0}select{width:100%;border-radius:0}#map_canvas embed,#map_canvas img,#map_canvas object,.map_canvas embed,.map_canvas img,.map_canvas object,.mqa-display embed,.mqa-display img,.mqa-display object{max-width:none!important}button{-webkit-appearance:none;-moz-appearance:none;background:transparent;padding:0;border:0;border-radius:0;line-height:1}[data-whatinput=mouse] button{outline:0}.is-visible{display:block!important}.is-hidden{display:none!important}.row{max-width:75rem;margin-left:auto;margin-right:auto}.row:after,.row:before{content:' ';display:table}.row:after{clear:both}.row.collapse>.column,.row.collapse>.columns{padding-left:0;padding-right:0}.row .row{margin-left:-.625rem;margin-right:-.625rem}@media screen and (min-width:40em){.row .row{margin-left:-.9375rem;margin-right:-.9375rem}}.row .row.collapse{margin-left:0;margin-right:0}.row.expanded{max-width:none}.row.expanded .row{margin-left:auto;margin-right:auto}.column,.columns{width:100%;float:left;padding-left:.625rem;padding-right:.625rem}@media screen and (min-width:40em){.column,.columns{padding-left:.9375rem;padding-right:.9375rem}}.column:last-child:not(:first-child),.columns:last-child:not(:first-child){float:right}.column.end:last-child:last-child,.end.columns:last-child:last-child{float:left}.column.row.row,.row.row.columns{float:none}.row .column.row.row,.row .row.row.columns{padding-left:0;padding-right:0;margin-left:0;margin-right:0}.small-1{width:8.33333%}.small-push-1{position:relative;left:8.33333%}.small-pull-1{position:relative;left:-8.33333%}.small-offset-0{margin-left:0}.small-2{width:16.66667%}.small-push-2{position:relative;left:16.66667%}.small-pull-2{position:relative;left:-16.66667%}.small-offset-1{margin-left:8.33333%}.small-3{width:25%}.small-push-3{position:relative;left:25%}.small-pull-3{position:relative;left:-25%}.small-offset-2{margin-left:16.66667%}.small-4{width:33.33333%}.small-push-4{position:relative;left:33.33333%}.small-pull-4{position:relative;left:-33.33333%}.small-offset-3{margin-left:25%}.small-5{width:41.66667%}.small-push-5{position:relative;left:41.66667%}.small-pull-5{position:relative;left:-41.66667%}.small-offset-4{margin-left:33.33333%}.small-6{width:50%}.small-push-6{position:relative;left:50%}.small-pull-6{position:relative;left:-50%}.small-offset-5{margin-left:41.66667%}.small-7{width:58.33333%}.small-push-7{position:relative;left:58.33333%}.small-pull-7{position:relative;left:-58.33333%}.small-offset-6{margin-left:50%}.small-8{width:66.66667%}.small-push-8{position:relative;left:66.66667%}.small-pull-8{position:relative;left:-66.66667%}.small-offset-7{margin-left:58.33333%}.small-9{width:75%}.small-push-9{position:relative;left:75%}.small-pull-9{position:relative;left:-75%}.small-offset-8{margin-left:66.66667%}.small-10{width:83.33333%}.small-push-10{position:relative;left:83.33333%}.small-pull-10{position:relative;left:-83.33333%}.small-offset-9{margin-left:75%}.small-11{width:91.66667%}.small-push-11{position:relative;left:91.66667%}.small-pull-11{position:relative;left:-91.66667%}.small-offset-10{margin-left:83.33333%}.small-12{width:100%}.small-offset-11{margin-left:91.66667%}.small-up-1>.column,.small-up-1>.columns{width:100%;float:left}.small-up-1>.column:nth-of-type(1n),.small-up-1>.columns:nth-of-type(1n){clear:none}.small-up-1>.column:nth-of-type(1n+1),.small-up-1>.columns:nth-of-type(1n+1){clear:both}.small-up-1>.column:last-child,.small-up-1>.columns:last-child{float:left}.small-up-2>.column,.small-up-2>.columns{width:50%;float:left}.small-up-2>.column:nth-of-type(1n),.small-up-2>.columns:nth-of-type(1n){clear:none}.small-up-2>.column:nth-of-type(2n+1),.small-up-2>.columns:nth-of-type(2n+1){clear:both}.small-up-2>.column:last-child,.small-up-2>.columns:last-child{float:left}.small-up-3>.column,.small-up-3>.columns{width:33.33333%;float:left}.small-up-3>.column:nth-of-type(1n),.small-up-3>.columns:nth-of-type(1n){clear:none}.small-up-3>.column:nth-of-type(3n+1),.small-up-3>.columns:nth-of-type(3n+1){clear:both}.small-up-3>.column:last-child,.small-up-3>.columns:last-child{float:left}.small-up-4>.column,.small-up-4>.columns{width:25%;float:left}.small-up-4>.column:nth-of-type(1n),.small-up-4>.columns:nth-of-type(1n){clear:none}.small-up-4>.column:nth-of-type(4n+1),.small-up-4>.columns:nth-of-type(4n+1){clear:both}.small-up-4>.column:last-child,.small-up-4>.columns:last-child{float:left}.small-up-5>.column,.small-up-5>.columns{width:20%;float:left}.small-up-5>.column:nth-of-type(1n),.small-up-5>.columns:nth-of-type(1n){clear:none}.small-up-5>.column:nth-of-type(5n+1),.small-up-5>.columns:nth-of-type(5n+1){clear:both}.small-up-5>.column:last-child,.small-up-5>.columns:last-child{float:left}.small-up-6>.column,.small-up-6>.columns{width:16.66667%;float:left}.small-up-6>.column:nth-of-type(1n),.small-up-6>.columns:nth-of-type(1n){clear:none}.small-up-6>.column:nth-of-type(6n+1),.small-up-6>.columns:nth-of-type(6n+1){clear:both}.small-up-6>.column:last-child,.small-up-6>.columns:last-child{float:left}.small-up-7>.column,.small-up-7>.columns{width:14.28571%;float:left}.small-up-7>.column:nth-of-type(1n),.small-up-7>.columns:nth-of-type(1n){clear:none}.small-up-7>.column:nth-of-type(7n+1),.small-up-7>.columns:nth-of-type(7n+1){clear:both}.small-up-7>.column:last-child,.small-up-7>.columns:last-child{float:left}.small-up-8>.column,.small-up-8>.columns{width:12.5%;float:left}.small-up-8>.column:nth-of-type(1n),.small-up-8>.columns:nth-of-type(1n){clear:none}.small-up-8>.column:nth-of-type(8n+1),.small-up-8>.columns:nth-of-type(8n+1){clear:both}.small-up-8>.column:last-child,.small-up-8>.columns:last-child{float:left}.small-collapse>.column,.small-collapse>.columns{padding-left:0;padding-right:0}.expanded.row .small-collapse.row,.small-collapse .row{margin-left:0;margin-right:0}.small-uncollapse>.column,.small-uncollapse>.columns{padding-left:.625rem;padding-right:.625rem}.small-centered{margin-left:auto;margin-right:auto}.small-centered,.small-centered:last-child:not(:first-child){float:none;clear:both}.small-pull-0,.small-push-0,.small-uncentered{position:static;margin-left:0;margin-right:0;float:left}@media screen and (min-width:40em){.medium-1{width:8.33333%}.medium-push-1{position:relative;left:8.33333%}.medium-pull-1{position:relative;left:-8.33333%}.medium-offset-0{margin-left:0}.medium-2{width:16.66667%}.medium-push-2{position:relative;left:16.66667%}.medium-pull-2{position:relative;left:-16.66667%}.medium-offset-1{margin-left:8.33333%}.medium-3{width:25%}.medium-push-3{position:relative;left:25%}.medium-pull-3{position:relative;left:-25%}.medium-offset-2{margin-left:16.66667%}.medium-4{width:33.33333%}.medium-push-4{position:relative;left:33.33333%}.medium-pull-4{position:relative;left:-33.33333%}.medium-offset-3{margin-left:25%}.medium-5{width:41.66667%}.medium-push-5{position:relative;left:41.66667%}.medium-pull-5{position:relative;left:-41.66667%}.medium-offset-4{margin-left:33.33333%}.medium-6{width:50%}.medium-push-6{position:relative;left:50%}.medium-pull-6{position:relative;left:-50%}.medium-offset-5{margin-left:41.66667%}.medium-7{width:58.33333%}.medium-push-7{position:relative;left:58.33333%}.medium-pull-7{position:relative;left:-58.33333%}.medium-offset-6{margin-left:50%}.medium-8{width:66.66667%}.medium-push-8{position:relative;left:66.66667%}.medium-pull-8{position:relative;left:-66.66667%}.medium-offset-7{margin-left:58.33333%}.medium-9{width:75%}.medium-push-9{position:relative;left:75%}.medium-pull-9{position:relative;left:-75%}.medium-offset-8{margin-left:66.66667%}.medium-10{width:83.33333%}.medium-push-10{position:relative;left:83.33333%}.medium-pull-10{position:relative;left:-83.33333%}.medium-offset-9{margin-left:75%}.medium-11{width:91.66667%}.medium-push-11{position:relative;left:91.66667%}.medium-pull-11{position:relative;left:-91.66667%}.medium-offset-10{margin-left:83.33333%}.medium-12{width:100%}.medium-offset-11{margin-left:91.66667%}.medium-up-1>.column,.medium-up-1>.columns{width:100%;float:left}.medium-up-1>.column:nth-of-type(1n),.medium-up-1>.columns:nth-of-type(1n){clear:none}.medium-up-1>.column:nth-of-type(1n+1),.medium-up-1>.columns:nth-of-type(1n+1){clear:both}.medium-up-1>.column:last-child,.medium-up-1>.columns:last-child{float:left}.medium-up-2>.column,.medium-up-2>.columns{width:50%;float:left}.medium-up-2>.column:nth-of-type(1n),.medium-up-2>.columns:nth-of-type(1n){clear:none}.medium-up-2>.column:nth-of-type(2n+1),.medium-up-2>.columns:nth-of-type(2n+1){clear:both}.medium-up-2>.column:last-child,.medium-up-2>.columns:last-child{float:left}.medium-up-3>.column,.medium-up-3>.columns{width:33.33333%;float:left}.medium-up-3>.column:nth-of-type(1n),.medium-up-3>.columns:nth-of-type(1n){clear:none}.medium-up-3>.column:nth-of-type(3n+1),.medium-up-3>.columns:nth-of-type(3n+1){clear:both}.medium-up-3>.column:last-child,.medium-up-3>.columns:last-child{float:left}.medium-up-4>.column,.medium-up-4>.columns{width:25%;float:left}.medium-up-4>.column:nth-of-type(1n),.medium-up-4>.columns:nth-of-type(1n){clear:none}.medium-up-4>.column:nth-of-type(4n+1),.medium-up-4>.columns:nth-of-type(4n+1){clear:both}.medium-up-4>.column:last-child,.medium-up-4>.columns:last-child{float:left}.medium-up-5>.column,.medium-up-5>.columns{width:20%;float:left}.medium-up-5>.column:nth-of-type(1n),.medium-up-5>.columns:nth-of-type(1n){clear:none}.medium-up-5>.column:nth-of-type(5n+1),.medium-up-5>.columns:nth-of-type(5n+1){clear:both}.medium-up-5>.column:last-child,.medium-up-5>.columns:last-child{float:left}.medium-up-6>.column,.medium-up-6>.columns{width:16.66667%;float:left}.medium-up-6>.column:nth-of-type(1n),.medium-up-6>.columns:nth-of-type(1n){clear:none}.medium-up-6>.column:nth-of-type(6n+1),.medium-up-6>.columns:nth-of-type(6n+1){clear:both}.medium-up-6>.column:last-child,.medium-up-6>.columns:last-child{float:left}.medium-up-7>.column,.medium-up-7>.columns{width:14.28571%;float:left}.medium-up-7>.column:nth-of-type(1n),.medium-up-7>.columns:nth-of-type(1n){clear:none}.medium-up-7>.column:nth-of-type(7n+1),.medium-up-7>.columns:nth-of-type(7n+1){clear:both}.medium-up-7>.column:last-child,.medium-up-7>.columns:last-child{float:left}.medium-up-8>.column,.medium-up-8>.columns{width:12.5%;float:left}.medium-up-8>.column:nth-of-type(1n),.medium-up-8>.columns:nth-of-type(1n){clear:none}.medium-up-8>.column:nth-of-type(8n+1),.medium-up-8>.columns:nth-of-type(8n+1){clear:both}.medium-up-8>.column:last-child,.medium-up-8>.columns:last-child{float:left}.medium-collapse>.column,.medium-collapse>.columns{padding-left:0;padding-right:0}.expanded.row .medium-collapse.row,.medium-collapse .row{margin-left:0;margin-right:0}.medium-uncollapse>.column,.medium-uncollapse>.columns{padding-left:.9375rem;padding-right:.9375rem}.medium-centered{margin-left:auto;margin-right:auto}.medium-centered,.medium-centered:last-child:not(:first-child){float:none;clear:both}.medium-pull-0,.medium-push-0,.medium-uncentered{position:static;margin-left:0;margin-right:0;float:left}}@media screen and (min-width:64em){.large-1{width:8.33333%}.large-push-1{position:relative;left:8.33333%}.large-pull-1{position:relative;left:-8.33333%}.large-offset-0{margin-left:0}.large-2{width:16.66667%}.large-push-2{position:relative;left:16.66667%}.large-pull-2{position:relative;left:-16.66667%}.large-offset-1{margin-left:8.33333%}.large-3{width:25%}.large-push-3{position:relative;left:25%}.large-pull-3{position:relative;left:-25%}.large-offset-2{margin-left:16.66667%}.large-4{width:33.33333%}.large-push-4{position:relative;left:33.33333%}.large-pull-4{position:relative;left:-33.33333%}.large-offset-3{margin-left:25%}.large-5{width:41.66667%}.large-push-5{position:relative;left:41.66667%}.large-pull-5{position:relative;left:-41.66667%}.large-offset-4{margin-left:33.33333%}.large-6{width:50%}.large-push-6{position:relative;left:50%}.large-pull-6{position:relative;left:-50%}.large-offset-5{margin-left:41.66667%}.large-7{width:58.33333%}.large-push-7{position:relative;left:58.33333%}.large-pull-7{position:relative;left:-58.33333%}.large-offset-6{margin-left:50%}.large-8{width:66.66667%}.large-push-8{position:relative;left:66.66667%}.large-pull-8{position:relative;left:-66.66667%}.large-offset-7{margin-left:58.33333%}.large-9{width:75%}.large-push-9{position:relative;left:75%}.large-pull-9{position:relative;left:-75%}.large-offset-8{margin-left:66.66667%}.large-10{width:83.33333%}.large-push-10{position:relative;left:83.33333%}.large-pull-10{position:relative;left:-83.33333%}.large-offset-9{margin-left:75%}.large-11{width:91.66667%}.large-push-11{position:relative;left:91.66667%}.large-pull-11{position:relative;left:-91.66667%}.large-offset-10{margin-left:83.33333%}.large-12{width:100%}.large-offset-11{margin-left:91.66667%}.large-up-1>.column,.large-up-1>.columns{width:100%;float:left}.large-up-1>.column:nth-of-type(1n),.large-up-1>.columns:nth-of-type(1n){clear:none}.large-up-1>.column:nth-of-type(1n+1),.large-up-1>.columns:nth-of-type(1n+1){clear:both}.large-up-1>.column:last-child,.large-up-1>.columns:last-child{float:left}.large-up-2>.column,.large-up-2>.columns{width:50%;float:left}.large-up-2>.column:nth-of-type(1n),.large-up-2>.columns:nth-of-type(1n){clear:none}.large-up-2>.column:nth-of-type(2n+1),.large-up-2>.columns:nth-of-type(2n+1){clear:both}.large-up-2>.column:last-child,.large-up-2>.columns:last-child{float:left}.large-up-3>.column,.large-up-3>.columns{width:33.33333%;float:left}.large-up-3>.column:nth-of-type(1n),.large-up-3>.columns:nth-of-type(1n){clear:none}.large-up-3>.column:nth-of-type(3n+1),.large-up-3>.columns:nth-of-type(3n+1){clear:both}.large-up-3>.column:last-child,.large-up-3>.columns:last-child{float:left}.large-up-4>.column,.large-up-4>.columns{width:25%;float:left}.large-up-4>.column:nth-of-type(1n),.large-up-4>.columns:nth-of-type(1n){clear:none}.large-up-4>.column:nth-of-type(4n+1),.large-up-4>.columns:nth-of-type(4n+1){clear:both}.large-up-4>.column:last-child,.large-up-4>.columns:last-child{float:left}.large-up-5>.column,.large-up-5>.columns{width:20%;float:left}.large-up-5>.column:nth-of-type(1n),.large-up-5>.columns:nth-of-type(1n){clear:none}.large-up-5>.column:nth-of-type(5n+1),.large-up-5>.columns:nth-of-type(5n+1){clear:both}.large-up-5>.column:last-child,.large-up-5>.columns:last-child{float:left}.large-up-6>.column,.large-up-6>.columns{width:16.66667%;float:left}.large-up-6>.column:nth-of-type(1n),.large-up-6>.columns:nth-of-type(1n){clear:none}.large-up-6>.column:nth-of-type(6n+1),.large-up-6>.columns:nth-of-type(6n+1){clear:both}.large-up-6>.column:last-child,.large-up-6>.columns:last-child{float:left}.large-up-7>.column,.large-up-7>.columns{width:14.28571%;float:left}.large-up-7>.column:nth-of-type(1n),.large-up-7>.columns:nth-of-type(1n){clear:none}.large-up-7>.column:nth-of-type(7n+1),.large-up-7>.columns:nth-of-type(7n+1){clear:both}.large-up-7>.column:last-child,.large-up-7>.columns:last-child{float:left}.large-up-8>.column,.large-up-8>.columns{width:12.5%;float:left}.large-up-8>.column:nth-of-type(1n),.large-up-8>.columns:nth-of-type(1n){clear:none}.large-up-8>.column:nth-of-type(8n+1),.large-up-8>.columns:nth-of-type(8n+1){clear:both}.large-up-8>.column:last-child,.large-up-8>.columns:last-child{float:left}.large-collapse>.column,.large-collapse>.columns{padding-left:0;padding-right:0}.expanded.row .large-collapse.row,.large-collapse .row{margin-left:0;margin-right:0}.large-uncollapse>.column,.large-uncollapse>.columns{padding-left:.9375rem;padding-right:.9375rem}.large-centered{margin-left:auto;margin-right:auto}.large-centered,.large-centered:last-child:not(:first-child){float:none;clear:both}.large-pull-0,.large-push-0,.large-uncentered{position:static;margin-left:0;margin-right:0;float:left}}blockquote,dd,div,dl,dt,form,h1,h2,h3,h4,h5,h6,li,ol,p,pre,td,th,ul{margin:0;padding:0}p{font-size:inherit;line-height:1.6;margin-bottom:1rem;text-rendering:optimizeLegibility}em,i{font-style:italic}b,em,i,strong{line-height:inherit}b,strong{font-weight:700}small{font-size:80%;line-height:inherit}h1,h2,h3,h4,h5,h6{font-family:Helvetica Neue,Helvetica,Roboto,Arial,sans-serif;font-weight:400;font-style:normal;color:inherit;text-rendering:optimizeLegibility;margin-top:0;margin-bottom:.5rem;line-height:1.4}h1 small,h2 small,h3 small,h4 small,h5 small,h6 small{color:#cacaca;line-height:0}h1{font-size:1.5rem}h2{font-size:1.25rem}h3{font-size:1.1875rem}h4{font-size:1.125rem}h5{font-size:1.0625rem}h6{font-size:1rem}@media screen and (min-width:40em){h1{font-size:3rem}h2{font-size:2.5rem}h3{font-size:1.9375rem}h4{font-size:1.5625rem}h5{font-size:1.25rem}h6{font-size:1rem}}a{color:#2199e8;text-decoration:none;line-height:inherit;cursor:pointer}a:focus,a:hover{color:#1585cf}a img{border:0}hr{max-width:75rem;height:0;border-right:0;border-top:0;border-bottom:1px solid #cacaca;border-left:0;margin:1.25rem auto;clear:both}dl,ol,ul{line-height:1.6;margin-bottom:1rem;list-style-position:outside}li{font-size:inherit}ul{list-style-type:disc}ol,ul{margin-left:1.25rem}ol ol,ol ul,ul ol,ul ul{margin-left:1.25rem;margin-bottom:0}dl{margin-bottom:1rem}dl dt{margin-bottom:.3rem;font-weight:700}blockquote{margin:0 0 1rem;padding:.5625rem 1.25rem 0 1.1875rem;border-left:1px solid #cacaca}blockquote,blockquote p{line-height:1.6;color:#8a8a8a}cite{display:block;font-size:.8125rem;color:#8a8a8a}cite:before{content:'\\2014    '}abbr{color:#0a0a0a;cursor:help;border-bottom:1px dotted #0a0a0a}code{font-weight:400;border:1px solid #cacaca;padding:.125rem .3125rem .0625rem}code,kbd{font-family:Consolas,Liberation Mono,Courier,monospace;color:#0a0a0a;background-color:#e6e6e6}kbd{padding:.125rem .25rem 0;margin:0}.subheader{margin-top:.2rem;margin-bottom:.5rem;font-weight:400;line-height:1.4;color:#8a8a8a}.lead{font-size:125%;line-height:1.6}.stat{font-size:2.5rem;line-height:1}p+.stat{margin-top:-1rem}.no-bullet{margin-left:0;list-style:none}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}@media screen and (min-width:40em){.medium-text-left{text-align:left}.medium-text-right{text-align:right}.medium-text-center{text-align:center}.medium-text-justify{text-align:justify}}@media screen and (min-width:64em){.large-text-left{text-align:left}.large-text-right{text-align:right}.large-text-center{text-align:center}.large-text-justify{text-align:justify}}.show-for-print{display:none!important}@media print{*{background:transparent!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}.show-for-print{display:block!important}.hide-for-print{display:none!important}table.show-for-print{display:table!important}thead.show-for-print{display:table-header-group!important}tbody.show-for-print{display:table-row-group!important}tr.show-for-print{display:table-row!important}td.show-for-print,th.show-for-print{display:table-cell!important}a,a:visited{text-decoration:underline}a[href]:after{content:\" (\" attr(href) \")\"}.ir a:after,a[href^='#']:after,a[href^='javascript:']:after{content:''}abbr[title]:after{content:\" (\" attr(title) \")\"}blockquote,pre{border:1px solid #8a8a8a;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}img{max-width:100%!important}@page{margin:.5cm}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}}h1{font-family:Press Start\\ 2P,cursive}.game-container{background:#eeefdf;padding:1em 0;margin-bottom:1em}@media screen and (min-width:40em){.game-container{margin-top:2em}}.game-container canvas{width:100%;min-width:300px}.footer{border-top:1px solid #e5e5e5;margin-top:1em;padding:1em 0}.footer .row{margin-bottom:1em}.footer .libraries a{margin:0 1em}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=f[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(a(n.parts[o],e))}else{for(var s=[],o=0;o<n.parts.length;o++)s.push(a(n.parts[o],e));f[n.id]={id:n.id,refs:1,parts:s}}}}function r(t){for(var e=[],i={},n=0;n<t.length;n++){var r=t[n],o=r[0],s=r[1],u=r[2],c=r[3],a={css:s,media:u,sourceMap:c};i[o]?i[o].parts.push(a):e.push(i[o]={id:o,parts:[a]})}return e}function o(t,e){var i=b(),n=w[w.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function u(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function c(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function a(t,e){var i,n,r;if(e.singleton){var o=v++;i=y||(y=u(e)),n=l.bind(null,i,o,!1),r=l.bind(null,i,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=c(e),n=p.bind(null,i),r=function(){s(i),i.href&&URL.revokeObjectURL(i.href)}):(i=u(e),n=h.bind(null,i),r=function(){s(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function l(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function h(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);
t.appendChild(document.createTextNode(i))}}function p(t,e){var i=e.css,n=e.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([i],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var f={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),b=d(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,v=0,w=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var i=r(t);return n(i,e),function(t){for(var o=[],s=0;s<i.length;s++){var u=i[s],c=f[u.id];c.refs--,o.push(c)}if(t){var a=r(t);n(a,e)}for(var s=0;s<o.length;s++){var c=o[s];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete f[c.id]}}}};var g=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()}]);